<p-toast key="compacct-toast" baseZIndex="99999"></p-toast>
<p-toast position="center" key="c" (onClose)="onReject()" [modal]="true" [autoZIndex]="true">
    <ng-template let-message pTemplate="message">
        <div style="text-align: center">
            <i class="pi pi-exclamation-triangle" style="font-size: 3em"></i>
            <h3>{{message.summary}}</h3>
            <p>{{message.detail}}</p>
        </div>

        <div class="ui-g ui-fluid">
            <div class="ui-g-6">
                <button type="button" pButton (click)="onConfirm()" label="Yes" class="ui-button-success"></button>
            </div>
            <div class="ui-g-6">
                <button type="button" pButton (click)="onReject()" label="No" class="ui-button-secondary"></button>
            </div>
        </div>
    </ng-template>
</p-toast>

<div class="row">
    <div class="col-xs-12">
        <div class="box box-primary">
            <div class="form-horizontal">
                <div class="box-body">
                    <p-tabView [activeIndex]="tabIndexToView" (onChange)="TabClick($event)">
                    <p-tabPanel headerStyleClass="compacct-tabs" [header]="items[0]" leftIcon="glyphicon glyphicon-list-alt" >
                        <form name="SearchForm" #SearchForm="ngForm" novalidate>
                            <div class="form-group">
                              <div class="col-sm-4">
                                <label class="control-label">Date</label>

                                <app-compacct-daterangepicker
                                (DaterangeObj)="getPendingDateRange($event)"
                                [DefaultDateOpt]="'weekwise'">
                                </app-compacct-daterangepicker>

                              </div>

                              <div class="col-sm-3">
                                <button
                                  class="btn btn-primary custombutton"
                                  data-toggle="modal"
                                  (click)="Getsearchdata()"
                                  id="load"
                                  [disabled]="seachSpinner"
                                >
                                  <p-progressSpinner
                                    *ngIf="seachSpinner"
                                    [style]="{ width: '15px', height: '15px' }"
                                    strokeWidth="8"
                                    animationDuration=".5s"
                                  ></p-progressSpinner>
                                  <span
                                    *ngIf="!seachSpinner"
                                    class="glyphicon glyphicon-search"
                                  ></span
                                  >&nbsp;Search
                                </button>
                              </div>
                            </div>

                          </form>
                          <div class="table-responsive no-padding">
                            <p-table [value]="searchList"
                                     [paginator]="searchList.length ? true : false" [rows]="100" [rowHover]="true"
                                     [autoLayout]="true" sortMode="multiple"
                                     [rowsPerPageOptions]="[100,200,300]"
                                     [globalFilterFields]="['Product_Serial_No_Original','Product_Serial_No_Found','Consuable_User_By','Time_Spend','Customer_Name','Status_ID','Total_Charge']"
                                     [rowHover]="true"
                                     #dt>
                                       <ng-template pTemplate="caption">
                                           <div class="row">
                                                <div class="col-sm-3 pull-right" style="text-align: right">
                                                        <input type="text" pInputText size="50" placeholder="Search" (input)="dt.filterGlobal($event.target.value, 'contains')" class="searchInput form-control">
                                                    </div>
                                           </div>

                                        </ng-template>
                                        <ng-template pTemplate="header">
                                            <tr>
                                                <th style="width:5em">Action</th>
                                                <th>Product Serial Original</th>
                                                <th>Product Serial Found</th>
                                                <th>Consuable User</th>
                                                <th>Time Spend</th>
                                                <th>Customer Name</th>
                                                <th>Status</th>
                                                <th>Total Charge</th>
                                              </tr>
                                        </ng-template>
                                        <ng-template pTemplate="body" let-col>
                                            <tr>

                                                <td>
                                                        <div class="dropdown">
                                                            <button class="btn btn-default btn-sm tableButton dropdown-toggle"
                                                                type="button" data-toggle="dropdown" style="height:27px">
                                                                <i class="fa fa-fw fa-bars"></i>
                                                                <span class="caret"></span>
                                                            </button>
                                                            <ul class="dropdown-menu">
                                                                <li >
                                                                    <a (click)="viewcallSheet(col)">
                                                                        <i class="fa fa-fw fa-pencil"></i>
                                                                        View call Sheet
                                                                    </a>
                                                                </li>
                                                                <!-- <li>
                                                                    <a (click)="DeleteCostcenter(col)">
                                                                        <i class="fa fa-fw fa-trash"></i>
                                                                        Delete
                                                                    </a>
                                                                </li> -->
                                                            </ul>
                                                        </div>
                                                </td>
                                                <td>{{col.Product_Serial_No_Original}}</td>
                                                <td>{{col.Product_Serial_No_Found}}</td>
                                                <td>{{col.Consuable_User_By}}</td>
                                                <td>{{col.Time_Spend}}</td>
                                                <td>{{col.Customer_Name}}</td>
                                                <td>{{col.Status}}</td>
                                                <td>{{col.Total_Charge}}</td>
                                             </tr>
                                        </ng-template>
                                        <ng-template pTemplate="paginatorright" let-state>
                                                Showing {{state.first+1}} of {{(state.first+1) + state.rows}} of  {{state.totalRecords}}
                                        </ng-template>
                                </p-table>
                            </div>
                    </p-tabPanel>
                    <p-tabPanel headerStyleClass="compacct-tabs" [header]="items[1]" leftIcon="glyphicon glyphicon-floppy-save">
                    <form name="SupporttktForm" #SupporttktForm="ngForm" novalidate>
                        <div class="form-group">
                            <div class="col-sm-4">
                                <label class="control-label">Request Reference</label>
                                    <div  class="label-t">{{ObjsupportTkt.Sup_Ticket_ID}}</div>
                                </div>

                            <div class="col-sm-4">
                                <label class="control-label">Request Date</label>
                                    <div  class="label-t">{{ObjsupportTkt.Call_Sheet_Date | date :"dd/MMM/yyyy"}}</div>

                            </div>
                            <div class="col-sm-4">
                                <label class="control-label">Customer Name</label>
                                    <div  class="label-t">{{ObjsupportTkt.Customer_Name}}</div>
                                </div>

                        </div>
                        <div class="form-group">
                           <div class="col-sm-4">
                                <label class="control-label">Address</label>
                                    <div  class="label-t">{{ObjsupportTkt.Address}}</div>

                            </div>
                            <div class="col-sm-4">
                                <label class="control-label">Product Description</label>
                                    <div  class="label-t">{{ObjsupportTkt.Product_Name}}</div>

                            </div>
                            <div class="col-sm-4">

                                <label class="control-label">Product Serial Number </label>
                                   <div class="input-group">
                                     <input class="form-control"
                                              name="Serial"
                                              value = "{{ObjsupportTkt.Product_Serial_No_Original}}"
                                              disabled
                                              >
                                         <span class="input_addon"></span>
                                        <input class="form-control"
                                        name="Product_Serial_No_Found"
                                        #Product_Serial_No_Found="ngModel"
                                        [(ngModel)]="ObjsupportTkt.Product_Serial_No_Found"
                                        [ngClass]="{'clearance': SupporttktFormSubmitted && Product_Serial_No_Found?.errors?.required}"
                                          required>
                                    </div>
                               </div>
                        </div>
                        <div class="form-group">
                             <div class="col-sm-4">
                                <label class="control-label">Brief Description Of Request</label>
                                    <div  class="label-t">{{this.ObjsupportTkt.Problem_Brief_Description}}</div>

                            </div>
                            <div class="col-sm-4">
                                <label class="control-label">Problem Reported / Found</label>
                                    <input type="text"
                                    class="form-control"
                                    name="Problem_Found"
                                    #Problem_Found="ngModel"
                                    [(ngModel)]="ObjsupportTkt.Problem_Found"
                                    [ngClass]="{'clearance': SupporttktFormSubmitted && Problem_Found?.errors?.required}"
                                    required>

                            </div>
                        </div>
                        <h5 style="
    padding: 0.5em 1em;
    background: #c1c1c185;
    border-top: 5px solid #3c8dbc;
    border-bottom: 1px solid #c6c6c6;
    margin-top: 15px;
    ">
    <i class="fa fa-fw fa-fax">
    </i> &nbsp;<strong>Support Request Details :</strong>
  </h5>
                        <div class="form-group">
                            <div class="col-sm-4">
                             <label class="control-label">Request Type</label>
                                    <div  class="label-t">{{ObjsupportTkt.Support_Type}}</div>
                            </div>

                            <div class="col-sm-4">
                                <label class="control-label">Request Mode</label>
                                    <div  class="label-t">{{ObjsupportTkt.Call_Recieved_By}}</div>

                            </div>
                            <div class="col-sm-4">
                                <label class="control-label">Support Request Raised By(Our Staff)</label>
                                <div  class="label-t">{{ObjsupportTkt.Posted_By_Name}}</div>

                            </div>
                        </div>
                        <div class="form-group">
                            <div class="col-sm-4">
                             <label class="control-label">Support Location</label>
                                    <div  class="label-t">{{ObjsupportTkt.Support_Loation}}</div>
                            </div>

                            <div class="col-sm-4">
                                <label class="control-label">Support Charge Type</label>
                                    <div  class="label-t">{{ObjsupportTkt.Support_Charge_Type}}</div>

                            </div>
                            <div class="col-sm-4">
                                <label class="control-label">Symptom</label>
                                <div  class="label-t">{{ObjsupportTkt.Symptom}}</div>

                            </div>
                        </div>
                        </form>
                        <form name="SparesForm" #SparesForm="ngForm" novalidate>
                        <h5 style="
                        padding: 0.5em 1em;
                        background: #c1c1c185;
                        border-top: 5px solid #3c8dbc;
                        border-bottom: 1px solid #c6c6c6;
                        margin-top: 15px;
                        ">
                        <i class="fa fa-fw fa-fax">
                        </i> &nbsp;<strong>Spares & Service Charges :</strong>
                      </h5>
                        <div class="panel-group">
                            <div class="panel panel-primary">
                             <div class="panel-body">
                        <div class="form-group">
                            <div class="col-sm-3">
                                <label class="control-label">Replaced Spare</label>
                                <input type="text"
                                class="form-control"
                                name="Replaced_Spare"
                                 #Replaced_Spare="ngModel"
                                 [(ngModel)]="ObjsupportTkt.Replaced_Spare"
                                 [ngClass]="{'clearance': SparesFormSubmitted && Replaced_Spare?.errors?.required}"
                            required>

                            </div>
                            <div class="col-sm-3">
                             <label class="control-label">Replaced Spare Slno</label>
                             <input type="text"
                              class="form-control"
                              name="Spare_Slno"
                              #Spare_Slno="ngModel"
                              [(ngModel)]="ObjsupportTkt.Spare_Slno"
                              [ngClass]="{'clearance': SparesFormSubmitted && Spare_Slno?.errors?.required}"
                            required>
                            </div>

                            <div class="col-sm-3">
                                <label class="control-label">Damaged Old Spare Slno</label>
                                    <input type="text"
                                    class="form-control"
                                    name="Old_Spare"
                                    #Old_Spare="ngModel"
                                    [(ngModel)]="ObjsupportTkt.Old_Spare"
                                    [ngClass]="{'clearance': SparesFormSubmitted && Old_Spare?.errors?.required}"
                                    required>

                            </div>
                            <div class="col-sm-3">
                                <button class="btn btn-primary custombutton"
                                            data-toggle="modal"
                                            (click) = "addReplaced(SparesForm.form.valid)"
                                             id="load"
                                           [disabled]="Spinner"
                                             >
                                             <p-progressSpinner *ngIf="Spinner" [style]="{width: '15px', height: '15px'}" strokeWidth="8"  animationDuration=".5s"></p-progressSpinner>
                                         <span *ngIf="!Spinner" class="glyphicon glyphicon-plus"></span>Add
                                     </button>
                              </div>
                          </div>
                          </div>
                          </div>
                          </div>
                        </form>
                        <form name="SupporttktForm2" #SupporttktForm2="ngForm" novalidate>
                            <div class="table-responsive no-padding" style="overflow-x: hidden !important;">
                                <table class="table table-bordered" style="margin-left: 5px;">

                                           <thead>
                                                    <tr style="background-color:#3c8dbc;color:white;">

                                                      <th  class="text-center"style="vertical-align:middle" >
                                                        Replaced Spare
                                                      </th>
                                                      <th  class="text-center"style="vertical-align:middle" >
                                                        Replaced Spare Slno
                                                        </th>
                                                      <th class="text-center" style="vertical-align:middle">
                                                        Damaged Old Spare Slno
                                                      </th>
                                                      <th class="text-center"style="vertical-align:middle">
                                                        Delete
                                                      </th>
                                                    </thead>
                                                  <tbody>
                                                <tr  *ngFor="
                                                let col of Replacedlist;
                                               let index = index
                                              ">
                                              <td>{{col.Replaced_Spare}}</td>
                                              <td>{{col.Spare_Slno}}</td>
                                               <td>{{col.Old_Spare}}</td>
                                               <td><a (click)="delectReplaced(index)" class="btn danger"><i class="fa fa-trash"></i></a></td>

                                                </tr>

                                            </tbody>

                                    </table>
                                </div>
                            <div class="form-group">
                            <div class="col-sm-4">
                                <label class="control-label">Test Printout attached</label>
                                <select class="form-control"
                                name="Test_Print_Out"
                                #Test_Print_Out="ngModel"
                                [(ngModel)]="ObjsupportTkt.Test_Print_Out"
                                [ngClass]="{'clearance': SupporttktFormSubmitted && Test_Print_Out?.errors?.required}"
                                required>
                                <option value="N">No</option>
                                <option value="Y">Yes</option>
                                </select>

                            </div>
                            <div class="col-sm-4">
                                <label class="control-label">Printing Counter</label>
                                <input type="text"
                                class="form-control"
                                name="Printing_Counter"
                                 #Printing_Counter="ngModel"
                                 [(ngModel)]="ObjsupportTkt.Printing_Counter"
                                 [ngClass]="{'clearance': SupporttktFormSubmitted && Printing_Counter?.errors?.required}"
                                 required >

                            </div>
                            <div class="col-sm-4"></div>
                         </div>
                        <div class="form-group">
                            <div class="col-sm-4">
                             <label class="control-label">Service Charge</label>
                             <input class="form-control"  [(ngModel)]="serviceCharge" (ngModelChange)="totalAmt()" name="first" CompacctDigitonly="true">
                            </div>

                            <div class="col-sm-4">
                                <label class="control-label">Any Other Charge</label>
                                <input class="form-control" [(ngModel)]="otherCharge" (ngModelChange)="totalAmt()" name="first4" CompacctDigitonly="true">

                            </div>
                            <div class="col-sm-4">
                                <label class="control-label">Total Call Cost</label>
                                <input class="form-control" [(ngModel)]="totalCharge"  name="first6" CompacctDigitonly="true" disabled>

                            </div>
                            <div class="col-sm-3">
                              </div>
                        </div>
                        <h5 style="
                        padding: 0.5em 1em;
                        background: #c1c1c185;
                        border-top: 5px solid #3c8dbc;
                        border-bottom: 1px solid #c6c6c6;
                        margin-top: 15px;
                        ">
                        <i class="fa fa-fw fa-fax">
                        </i> &nbsp;<strong>Brief Description Of How The Request was Resolved :</strong>
                      </h5>
                        <div class="form-group" style="margin-left:3px;margin-right: 0px;">
                            <p-editor name= "text2"
                            #text2="ngModel"
                            [(ngModel)]="ObjsupportTkt.Resolution"
                            [style]="{'height':'200px'}"
                            [ngClass]="{'clearance': SupporttktFormSubmitted && Problem_Found?.errors?.required}" required>
                                <p-header>
                                    <span class="ql-formats">
                                        <button class="ql-bold" aria-label="Bold"></button>
                                        <button class="ql-italic" aria-label="Italic"></button>
                                        <button class="ql-underline" aria-label="Underline"></button>
                                    </span>
                                </p-header>
                            </p-editor>
                        </div>
                        <h5 style="
                        padding: 0.5em 1em;
                        background: #c1c1c185;
                        border-top: 5px solid #3c8dbc;
                        border-bottom: 1px solid #c6c6c6;
                        margin-top: 15px;
                        ">
                        <i class="fa fa-fw fa-fax">
                        </i> &nbsp;<strong>Consumable used by :</strong>
                      </h5>
                        <div class="form-group">
                            <div class="col-sm-3">
                                <label class="control-label ">Our Company</label>
                                <div class="checkBox">
                                    <p-checkbox [(ngModel)]="frnVal"
                                     name="Franchise"
                                      (ngModelChange)="OurCompany($event)"
                                       [binary]="true"
                                       ></p-checkbox>
                                     </div>
                                </div>
                            <div class="col-sm-3">
                                <label class="control-label ">Other Company </label>
                                <div class="checkBox">
                                   <p-checkbox [(ngModel)]="frnVal2" name="Franchise2" (ngModelChange)="OtherCompany($event)" [binary]="true"
                                   ></p-checkbox>
                                    </div>
                            </div>
                            <div class="col-sm-3">
                                <div  *ngIf="frnVal2">
                                <label class="control-label">Company Name</label>
                                <input type="text"
                                class="form-control"
                                name="Company_Name"
                                #Company_Name="ngModel"
                                [(ngModel)]="ObjsupportTkt.Company_Name"
                                [ngClass]="SupporttktFormSubmitted && Company_Name.errors?.required ? 'clearance': ''" [required]="frnVal2">
                            </div>
                            </div>


                            <div class="col-sm-3">

                            </div>

                        </div>
                        <h5 style="
                        padding: 0.5em 1em;
                        background: #c1c1c185;
                        border-top: 5px solid #3c8dbc;
                        border-bottom: 1px solid #c6c6c6;
                        margin-top: 15px;
                        ">
                        <i class="fa fa-fw fa-fax">
                        </i> &nbsp;<strong>DIPL Engineer Feedback :</strong>
                      </h5>
                        <div class="form-group">
                            <div class="col-sm-3">
                             <label class="control-label">DILP Engineer Name</label>
                                    <div  class="label-t">{{ObjsupportTkt.Posted_By_Name}}</div>
                            </div>

                            <div class="col-sm-3">
                                <label class="control-label">Time Spent</label>
                                <input type="text"
                                class="form-control"
                                name="Time_Spend"
                                #Time_Spend="ngModel"
                                [(ngModel)]="ObjsupportTkt.Time_Spend"
                                CompacctDigitonly="true"
                                [ngClass]="{'clearance': SupporttktFormSubmitted && Time_Spend?.errors?.required}"
                                required>

                            </div>
                            <div class="col-sm-3">
                                <label class="control-label">Call Status</label>
                                <select
                                class="form-control"
                                name="Status_ID"
                                #Status_ID="ngModel"
                                [(ngModel)]="ObjsupportTkt.Status_ID"
                                [ngClass]="{'clearance': SupporttktFormSubmitted && Status_ID?.errors?.required}"
                                required>

                                <option  [ngValue]="undefined">Select</option>
                                 <option *ngFor="let option of StatusList" value="{{option.Status_ID}}">{{option.Status}}</option>
                                </select>

                            </div>
                            <div class="col-sm-3">
                                <label class="control-label">Assigned To</label>
                                <select
                                class="form-control"
                                name="Sent_To"
                                #Sent_To="ngModel"
                                [(ngModel)]="ObjsupportTkt.Sent_To"
                                [ngClass]="{'clearance': SupporttktFormSubmitted && Sent_To?.errors?.required}"
                                required>

                                <option  [ngValue]="undefined">Select</option>
                                 <option *ngFor="let option of AssignedList" value="{{option.User_ID}}">{{option.Member_Name}}</option>
                                </select>

                            </div>
                        </div>
                        <h5 style="
                        padding: 0.5em 1em;
                        background: #c1c1c185;
                        border-top: 5px solid #3c8dbc;
                        border-bottom: 1px solid #c6c6c6;
                        margin-top: 15px;
                        ">
                        <i class="fa fa-fw fa-fax">
                        </i> &nbsp;<strong>Customer Feedback :</strong>
                      </h5>
                        <div class="form-group">
                            <div class="col-sm-3">
                             <label class="control-label">Customar Representative Name</label>
                             <input type="text"
                             class="form-control"
                             name="Customar_Representative_Name"
                             #Customar_Representative_Name="ngModel"
                             [(ngModel)]="ObjsupportTkt.Customar_Representative_Name"
                             [ngClass]="{'clearance': SupporttktFormSubmitted && Customar_Representative_Name?.errors?.required}"
                            required>
                            </div>
                             <div class="col-sm-3">
                                <label class="control-label">Contact No</label>
                                <input type="text"
                                 class="form-control"
                                 name="Customer_Contact_No"
                                 #Customer_Contact_No="ngModel"
                                 [(ngModel)]="ObjsupportTkt.Customer_Contact_No"
                                 CompacctDigitonly="true"
                                 [ngClass]="{'clearance': SupporttktFormSubmitted && Customer_Contact_No?.errors?.required}"
                            required>

                            </div>
                            <div class="col-sm-3">
                                <label class="control-label">Email ID</label>
                                <input type="text"
                                 class="form-control"
                                 name="Customer_Email"
                                 #Customer_Email="ngModel"
                                 [(ngModel)]="ObjsupportTkt.Customer_Email"
                                 [ngClass]="{'clearance': SupporttktFormSubmitted && Customer_Email?.errors?.required}"
                            required>

                            </div>
                            <div class="col-sm-3">
                                <label class="control-label">Customar Remarks</label>
                                <textarea class="form-control" style="margin: 0px -16.6719px 0px 0px; width: 280px;height: 69px;"
                                rows='1'
                                 name="Customer_Remarks"
                                 #Customer_Remarks="ngModel"
                                 [(ngModel)]="ObjsupportTkt.Customer_Remarks"
                                 [ngClass]="{'clearance': SupporttktFormSubmitted && Customer_Remarks?.errors?.required}"
                                 required></textarea>
                               </div>
                        </div>
                    </form>
                        <div class="box-footer">
                            <button class="btn btn-primary pull-right"
                                    (click) = "saveCallSheet(SupporttktForm.form.valid,SupporttktForm2.form.valid)"
                                    id="load"
                                    [disabled]="Spinner">
                                    <p-progressSpinner *ngIf="Spinner" [style]="{width: '15px', height: '15px'}" strokeWidth="8"  animationDuration=".5s"></p-progressSpinner>
                                <span *ngIf="!Spinner" class="glyphicon glyphicon-save"></span>Save
                            </button>
                        </div>

                </p-tabPanel>
                </p-tabView>


            </div>
            </div>
        </div>
    </div>
</div>

<p-dialog header="View Details" [(visible)]="display" [modal]="true" [responsive]="true"
[style]="{width: '80%', minWidth: '300px'}" [minY]="70"[maximizable]="true" [baseZIndex]="10000">
<div class="form-horizontal">
 <div class="form-group">
        <div class="col-sm-4">
            <label class="control-label">Request Reference</label>
                <div  class="label-t">{{ObjviewcallSheet.Sup_Ticket_ID}}</div>
            </div>

        <div class="col-sm-4">
            <label class="control-label">Request Date</label>
                <div  class="label-t">{{ObjviewcallSheet.Call_Sheet_Date | date :"dd/MMM/yyyy"}}</div>

        </div>
        <div class="col-sm-4">
            <label class="control-label">Customer Name</label>
                <div  class="label-t">{{ObjviewcallSheet.Customer_Name}}</div>
            </div>

    </div>
    <div class="form-group">
       <div class="col-sm-4">
            <label class="control-label">Address</label>
                <div  class="label-t">{{ObjsupportTkt.Address}}</div>

        </div>
        <div class="col-sm-4">
            <label class="control-label">Product Description</label>
                <div  class="label-t">{{ObjsupportTkt.Product_Name}}</div>

        </div>
        <div class="col-sm-4">

            <label class="control-label">Product Serial Number </label>
               <div class="input-group">
                 <input class="form-control"
                          name="Serial"
                          value = "{{ObjviewcallSheet.Product_Serial_No_Original}}"
                          disabled
                          >
                     <span class="input_addon"></span>
                    <input class="form-control"
                    name="Product_Serial_No_Found"
                    value = "{{ObjviewcallSheet.Product_Serial_No_Found}}"
                    disabled>
                </div>
           </div>
    </div>
    <div class="form-group">
         <div class="col-sm-4">
            <label class="control-label">Brief Description Of Request</label>
                <div  class="label-t">{{ObjsupportTkt.Problem_Brief_Description}}</div>

        </div>
        <div class="col-sm-4">
            <label class="control-label">Problem Reported / Found</label>
            <div  class="label-t">{{ObjviewcallSheet.Problem_Found}}</div>

        </div>
    </div>

    <h5 style="
    padding: 0.5em 1em;
    background: #c1c1c185;
    border-top: 5px solid #3c8dbc;
    border-bottom: 1px solid #c6c6c6;
    margin-top: 15px;
    ">
    <i class="fa fa-fw fa-fax">
    </i> &nbsp;<strong>Support Request Details :</strong>
  </h5>
    <div class="form-group">
        <div class="col-sm-4">
         <label class="control-label">Request Type</label>
                <div  class="label-t">{{ObjsupportTkt.Support_Type}}</div>
        </div>

        <div class="col-sm-4">
            <label class="control-label">Request Mode</label>
                <div  class="label-t">{{ObjsupportTkt.Call_Recieved_By}}</div>

        </div>
        <div class="col-sm-4">
            <label class="control-label">Support Request Raised By(Our Staff)</label>
            <div  class="label-t">{{ObjsupportTkt.Posted_By_Name}}</div>

        </div>
    </div>
    <div class="form-group">
        <div class="col-sm-4">
         <label class="control-label">Support Location</label>
                <div  class="label-t">{{ObjsupportTkt.Support_Loation}}</div>
        </div>

        <div class="col-sm-4">
            <label class="control-label">Support Charge Type</label>
                <div  class="label-t">{{ObjsupportTkt.Support_Charge_Type}}</div>

        </div>
        <div class="col-sm-4">
            <label class="control-label">Symptom</label>
            <div  class="label-t">{{ObjsupportTkt.Symptom}}</div>

        </div>
    </div>
    <div class="table-responsive no-padding" style="overflow-x: hidden !important;">
        <table class="table table-bordered" style="margin-left: 5px;">

                   <thead>
                            <tr style="background-color:#3c8dbc;color:white;">

                              <th  class="text-center"style="vertical-align:middle" >
                                Replaced Spare
                              </th>
                              <th  class="text-center"style="vertical-align:middle" >
                                Replaced Spare Slno
                                </th>
                              <th class="text-center" style="vertical-align:middle">
                                Damaged Old Spare Slno
                              </th>

                            </thead>
                          <tbody>
                        <tr  *ngFor="
                        let col of PartsList;
                       let index = index
                      ">
                      <td>{{col.Spare_Parts_Name}}</td>
                      <td>{{col.Spare_Parts_Sl_No}}</td>
                       <td>{{col.Spare_Parks_Replace_Sl_No}}</td>
                       </tr>

                    </tbody>

            </table>
        </div>
        <div class="form-group">
            <div class="col-sm-4">
                <label class="control-label">Test Printout attached</label>
                <div  class="label-t">{{ObjviewcallSheet.Test_Print_Out}}</div>

            </div>
            <div class="col-sm-4">
                <label class="control-label">Printing Counter</label>
                <div  class="label-t">{{ObjviewcallSheet.Printing_Counter}}</div>

            </div>
            <div class="col-sm-4"></div>
         </div>
        <div class="form-group">
            <div class="col-sm-4">
             <label class="control-label">Service Charge</label>
             <div  class="label-t">{{ObjviewcallSheet.Service_Charge}}</div>
            </div>

            <div class="col-sm-4">
                <label class="control-label">Any Other Charge</label>
                <div  class="label-t">{{ObjviewcallSheet.Additional_Charge}}</div>

            </div>
            <div class="col-sm-4">
                <label class="control-label">Total Call Cost</label>
                <div  class="label-t">{{ObjviewcallSheet.Total_Charge}}</div>

            </div>
            <div class="col-sm-3">
              </div>
        </div>
        <h5 style="
        padding: 0.5em 1em;
        background: #c1c1c185;
        border-top: 5px solid #3c8dbc;
        border-bottom: 1px solid #c6c6c6;
        margin-top: 15px;
        ">
        <i class="fa fa-fw fa-fax">
        </i> &nbsp;<strong>Brief Description Of How The Request was Resolved :</strong>
      </h5>
        <div class="form-group" style="margin-left:3px;margin-right: 0px;">
            <p-editor name= "text2"
            #text2="ngModel"
            [(ngModel)]="ObjviewcallSheet.Resolution"
            [style]="{'height':'200px'}"
            disabled>
                <p-header>
                    <span class="ql-formats">
                        <button class="ql-bold" aria-label="Bold"></button>
                        <button class="ql-italic" aria-label="Italic"></button>
                        <button class="ql-underline" aria-label="Underline"></button>
                    </span>
                </p-header>
            </p-editor>
        </div>
        <h5 style="
        padding: 0.5em 1em;
        background: #c1c1c185;
        border-top: 5px solid #3c8dbc;
        border-bottom: 1px solid #c6c6c6;
        margin-top: 15px;
        ">
        <i class="fa fa-fw fa-fax">
        </i> &nbsp;<strong>Consumable used by :</strong>
      </h5>
        <div class="form-group">
          <div class="col-sm-4">
            <label class="control-label">Our Company</label>
            <div  class="label-t" *ngIf='ObjviewcallSheet.Consuable_User_By === "Our Company"'>YES</div>
            <div  class="label-t" *ngIf='ObjviewcallSheet.Consuable_User_By  !== "Our Company"'>NO</div>

        </div>
            <div class="col-sm-3" *ngIf='ObjviewcallSheet.Consuable_User_By  !== "Our Company"'>
                <label class="control-label">Company Name </label>
                <div  class="label-t">{{ObjviewcallSheet.Consuable_User_By}}</div>
            </div>


            <div class="col-sm-3">

            </div>

        </div>
        <h5 style="
                        padding: 0.5em 1em;
                        background: #c1c1c185;
                        border-top: 5px solid #3c8dbc;
                        border-bottom: 1px solid #c6c6c6;
                        margin-top: 15px;
                        ">
                        <i class="fa fa-fw fa-fax">
                        </i> &nbsp;<strong>DIPL Engineer Feedback :</strong>
                      </h5>
        <div class="form-group">
            <div class="col-sm-3">
             <label class="control-label">DILP Engineer Name</label>
                    <div  class="label-t">{{ObjsupportTkt.Posted_By_Name}}</div>
            </div>

            <div class="col-sm-3">
                <label class="control-label">Time Spent</label>
                <div  class="label-t">{{ObjviewcallSheet.Time_Spend}}</div>

            </div>
            <div class="col-sm-3">
                <label class="control-label">Call Status</label>
                <div  class="label-t">{{ObjviewcallSheet.Status}}</div>
               </div>
            <div class="col-sm-3">
                <label class="control-label">Assigned To</label>
                <div  class="label-t">{{ObjviewcallSheet.Sent_To_Name}}</div>
              </div>
        </div>
        <h5 style="
                        padding: 0.5em 1em;
                        background: #c1c1c185;
                        border-top: 5px solid #3c8dbc;
                        border-bottom: 1px solid #c6c6c6;
                        margin-top: 15px;
                        ">
                        <i class="fa fa-fw fa-fax">
                        </i> &nbsp;<strong>Customer Feedback :</strong>
                      </h5>
        <div class="form-group">
            <div class="col-sm-3">
             <label class="control-label">Customar Representative Name</label>
             <div  class="label-t">{{ObjsupportTkt.Customar_Representative_Name}}</div>
            </div>
             <div class="col-sm-3">
                <label class="control-label">Contact No</label>
                <div  class="label-t">{{ObjviewcallSheet.Customer_Contact_No}}</div>
               </div>
            <div class="col-sm-3">
                <label class="control-label">Email ID</label>
                <div  class="label-t">{{ObjviewcallSheet.Customer_Email}}</div>

            </div>
            <div class="col-sm-3">
                <label class="control-label">Customar Remarks</label>
                <div  class="label-t">{{ObjviewcallSheet.Customer_Remarks}}</div>
               </div>
        </div>
</div>
<p-footer>
  <button type="button" (click)="display = false" class="btn btn-default">
    CLOSE
  </button>
</p-footer>
 </p-dialog>
