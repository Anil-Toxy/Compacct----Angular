<p-toast key="compacct-toast" baseZIndex="99999999"></p-toast>
<p-toast position="center" key="c" (onClose)="onReject()" [modal]="true" baseZIndex="99999999">
    <ng-template let-message pTemplate="message">
        <div style="text-align: center">
            <i class="pi pi-exclamation-triangle" style="font-size: 3em"></i>
            <h3>{{message.summary}}</h3>
            <p>{{message.detail}}</p>
        </div>

        <div class="ui-g ui-fluid">
            <div class="ui-g-6" *ngIf="Del2 && !Del">
                <button type="button" pButton (click)="onConfirm()" label="Yes" class="ui-button-success"></button>
            </div>
            <div class="ui-g-6" *ngIf="Del && !Del2">
                <button type="button" pButton (click)="onConfirm2()" label="Yes" class="ui-button-success"></button>
            </div>
            <div class="ui-g-6">
                <button type="button" pButton (click)="onReject()" label="No" class="ui-button-secondary"></button>
            </div>
        </div>
    </ng-template>
</p-toast>
<div class="row">
    <div class="col-xs-12">
        <div class="box box-primary">
            <div class="form-horizontal">
                <div class="box-body">
                    <p-tabView [activeIndex]="tabIndexToView">
                        <form name="SelectForm" #SelectForm="ngForm" novalidate>
                            <div class="form-group" id="inner-Box">
                                <div class="col-sm-4" style=" height: 77px;">
                                    <label class="control-label">Select Employee</label>
                                    <!-- <select class="form-control" name="Employee" #Employee="ngModel" [(ngModel)]="objselect.Emp_ID" (change)="getEmployeeDetails(objselect.Emp_ID)">
                                  <option  [ngValue]="undefined">Select</option>
                              <option  *ngFor="let option of EmployeeList" value="{{option.Emp_ID}}">
                                {{option.NAME}}
                              </option>
                             </select> -->
                                    <p-dropdown [options]="EmployeeList" name="Employee" #Employee="ngModel" [(ngModel)]="objselect.Emp_ID" [disabled]="userdisabled" [showClear]="true" [emptyFilterMessage]="' No Item Found'" [filter]="true" filterBy="label,value.name" [resetFilterOnHide]="true" [placeholder]="'Select Employee'"
                                        [virtualScroll]="true" itemSize="30" (onChange)="getEmployeeDetails(objselect.Emp_ID)">
                                    </p-dropdown>
                                </div>
                                <div class="col-sm-4 ">
                                    <button [disabled]="userdisabled" class="btn btn-primary " style="margin-top: 28px;margin-left: 40%; " data-toggle="modal " (click)="GetNewEmployee() " id="load30 " [disabled]="seachSpinner ">
                                <p-progressSpinner *ngIf="seachSpinner " [style]="{width: '15px', height: '15px'} " strokeWidth="8 "  animationDuration=".5s "></p-progressSpinner>
                               <span *ngIf="!seachSpinner " class="glyphicon glyphicon-plus "></span>&nbsp;New Employee
                               </button>
                                </div>
                                <div class="col-sm-4 "></div>
                            </div>
                        </form>
                        <!-- <hr class="box box-shadow "> -->
                        <br>
                        <form name="EmployeeForm" #EmployeeForm="ngForm" novalidate>
                            <div class="form-group ">
                                <div class="col-sm-10 ">
                                    <div class="box-body ">
                                        <div class="form-group ">
                                            <div class="col-sm-3 ">
                                                <label class="control-label">Employee ID</label>
                                                <input class="form-control" name="Emp_Id" #Emp_Id="ngModel" [(ngModel)]="objemployee.Emp_ID" placeholder="Employee ID" disabled>

                                            </div>
                                            <div class="col-sm-3 ">
                                                <label class="control-label ">Employee Code<sup class="text-danger ">*</sup></label>
                                                <input class="form-control " name="Emp_Code" #Emp_Code="ngModel" [(ngModel)]="objemployee.Emp_Code" [disabled]="userdisabled" (ngModelChange)="onCheckCode(objemployee.Emp_Code)" placeholder="Employee Code" [ngClass]="{
                                        'clearance': flag || EmployeeFormSubmitted && Emp_Code.errors?.required}" required>
                                            </div>
                                            <div class="col-sm-2 ">
                                                <label class="control-label">First Name<sup class="text-danger">*</sup></label>
                                                <input class="form-control" name="F_Name" #F_Name="ngModel" [(ngModel)]="objemployee.First_Name" [disabled]="userdisabled" placeholder="First Name" [ngClass]="{ 'clearance': EmployeeFormSubmitted && F_Name.errors?.required}" required>

                                            </div>
                                            <div class="col-sm-2">
                                                <label class="control-label">Middle Name</label>
                                                <input class="form-control" name="M_Name" #M_Name="ngModel" [(ngModel)]="objemployee.Middle_Name" [disabled]="userdisabled" placeholder="Middle Name">

                                            </div>
                                            <div class="col-sm-2">
                                                <label class="control-label ">Last Name<sup class="text-danger ">*</sup></label>
                                                <input class="form-control " name="L_Name" #L_Name="ngModel" [(ngModel)]="objemployee.Last_Name" [disabled]="userdisabled" placeholder="Last Name" [ngClass]="{ 'clearance': EmployeeFormSubmitted && L_Name.errors?.required}" required>

                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <div class="col-sm-8">
                                                <label class="control-label ">Present Address <sup class="text-danger">*</sup></label>
                                                <input class="form-control " placeholder="Present Address " name="address1" #address1="ngModel" [(ngModel)]="objemployee.Present_Add_1" [disabled]="userdisabled" [ngClass]="{ 'clearance': EmployeeFormSubmitted && address1.errors?.required} " required>
                                            </div>
                                            <div class="col-sm-4">
                                                <label class="control-label">Pincode<sup class="text-danger ">*</sup></label>
                                                <input class="form-control" placeholder="Pincode" name="Pincode" #Pincode="ngModel" [(ngModel)]="objemployee.Present_Pin" [disabled]="userdisabled" (ngModelChange)="StateDistrictChange(objemployee.Present_Pin)" [ngClass]="{ 'clearance': EmployeeFormSubmitted && Pincode.errors?.required}"
                                                    required>
                                            </div>
                                            <!-- <div class="col-sm-6">
                                                <label class="control-label">Present Address 2</label>
                                                <input class="form-control" placeholder="Present Address 2" name="address2" #address2="ngModel" [(ngModel)]="objemployee.Present_Add_2">
                                            </div> -->
                                        </div>
                                        <div class="form-group">

                                            <div class="col-sm-4">
                                                <label class="control-label">District</label>
                                                <input class="form-control" placeholder="District" name="District" #District="ngModel" [(ngModel)]="objemployee.Present_Dist" disabled>
                                            </div>
                                            <div class="col-sm-4">
                                                <label class="control-label">State</label>
                                                <input class="form-control" placeholder="State" name="State" #State="ngModel" [(ngModel)]="objemployee.Present_State" disabled>
                                            </div>
                                            <div class="col-sm-4">
                                                <label class="control-label">Country</label>
                                                <input class="form-control" placeholder="Country" name="Country" #Country="ngModel" [(ngModel)]="objemployee.Present_Country" disabled>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-sm-2 ">
                                    <img [src]="imagePath" width="100% ">
                                    <div class="custombutton">
                                        <p-fileUpload #preview mode="basic" chooseLabel="Browse" name="demo[]" accept="image/*" [showUploadButton]="false" [disabled]="userdisabled" maxFileSize="1000000" (onSelect)="handleFileSelect($event)">
                                        </p-fileUpload>
                                        <button class="btn btn-danger pull-right" (click)="cleanPreView()" [disabled]="userdisabled" [disabled]="!ProductViewFalg"><span class="glyphicon glyphicon-remove" ></span> </button>
                                    </div>

                                </div>
                            </div>

                            <div class="form-group " style="padding: 1em; ">
                                <h5 style=" padding: 0.5em 1em; background: #c1c1c185; border-top: 5px solid #3c8dbc; border-bottom: 1px solid #c6c6c6; margin-top: 10px; ">
                                    <i class="fa fa-home " aria-hidden="true ">
                                </i> &nbsp;<strong>Permanent address:</strong></h5>
                                <div class="col-sm-12 ">
                                    <p-checkbox label="Same As Present Address" [(ngModel)]="ischeckaddress" [disabled]="userdisabled" name="Addresscheck" #Addresscheck="ngModel" (ngModelChange)="AddressCopy()" binary="true"></p-checkbox>
                                </div>
                                <div class="col-sm-8">
                                    <label class="control-label ">Permanent Address <sup class="text-danger ">*</sup></label>
                                    <input class="form-control" placeholder="Permanent Address " name="paddress1" #paddress1="ngModel" [(ngModel)]="objemployee.Perm_Add_1" [disabled]="userdisabled" [ngClass]="{ 'clearance': EmployeeFormSubmitted && paddress1.errors?.required}" required>
                                </div>
                                <!-- <div class="col-sm-6 ">
                                    <label class="control-label">Permanent Address 2</label>
                                    <input class="form-control" placeholder="Permanent Address 2" name="paddress2" #paddress2="ngModel" [(ngModel)]="objemployee.Perm_Add_2">
                                </div> -->
                                <div class="col-sm-4">
                                    <label class="control-label">Pincode</label>
                                    <input class="form-control" placeholder="Pincode" name="Pincode2" #Pincode2="ngModel" [(ngModel)]="objemployee.Perm_Pin" [disabled]="userdisabled" (ngModelChange)="StateDistrictChange2(objemployee.Perm_Pin)" [ngClass]="{ 'clearance':EmployeeFormSubmitted && Pincode2.errors?.required} "
                                        required>
                                </div>
                                <div class="col-sm-4">
                                    <label class="control-label">District<sup class="text-danger">*</sup></label>
                                    <input class="form-control" placeholder="District" name="District2" #District2="ngModel" [(ngModel)]="objemployee.Perm_Dist" disabled>
                                </div>
                                <div class="col-sm-4">
                                    <label class="control-label">State</label>
                                    <input class="form-control" placeholder="State" name="State2" #State2="ngModel" [(ngModel)]="objemployee.Perm_State" disabled>
                                </div>
                                <div class="col-sm-4">
                                    <label class="control-label">Country</label>
                                    <input class="form-control" placeholder="Country" name="Country2" #Country2="ngModel" [(ngModel)]="objemployee.Perm_Country" disabled>
                                </div>
                            </div>
                            <div class="form-group" style="padding: 1em;">
                                <h5 style=" padding: 0.5em 1em; background: #c1c1c185; border-top: 5px solid #3c8dbc; border-bottom: 1px solid #c6c6c6; margin-top: -9px; ">
                                    <i class="fa fa-user">
                                </i> &nbsp;<strong>Personal Details:</strong></h5>
                                <div class="col-sm-3 ">
                                    <label class="control-label">Nationality<sup class="text-danger ">*</sup></label>
                                    <select class="form-control" name="Nationality" #Nationality="ngModel" [(ngModel)]="objemployee.Nationality" [disabled]="userdisabled" [ngClass]="{ 'clearance': EmployeeFormSubmitted && Nationality.errors?.required}" required>
                                        <option  [ngValue]="undefined ">Select</option>
                                    <option  *ngFor="let option of NationalityList" value="{{option}} ">
                                      {{option}}
                                    </option>
                                   </select>
                                </div>
                                <div class="col-sm-3 ">
                                    <label class="control-label">Gender<sup class="text-danger ">*</sup></label>
                                    <select class="form-control" name="Gender" #Gender="ngModel" [(ngModel)]="objemployee.Sex" [disabled]="userdisabled" [ngClass]="{ 'clearance': EmployeeFormSubmitted && Gender.errors?.required}" required>
                                        <option  [ngValue]="undefined ">Select</option>
                                    <option  *ngFor="let option of GenderList" value="{{option}}">
                                      {{option}}
                                    </option>
                                   </select>
                                </div>
                                <div class="col-sm-3">
                                    <label class="control-label">Marital Status<sup class="text-danger ">*</sup></label>
                                    <select class="form-control" name="Marital" #Marital="ngModel" [(ngModel)]="objemployee.Material_Status" [disabled]="userdisabled" [ngClass]="{ 'clearance': EmployeeFormSubmitted && Marital.errors?.required}" required>
                                        <option  [ngValue]="undefined ">Select</option>
                                    <option  *ngFor="let option of MaritalList" value="{{option}}">
                                      {{option}}
                                    </option>
                                   </select>
                                </div>

                                <div class="col-sm-3 ">
                                    <label class="control-label">Blood Group</label>
                                    <select class="form-control" name="Blood" #Blood="ngModel" [(ngModel)]="objemployee.Blood_Group" [disabled]="userdisabled">
                                        <option  [ngValue]="undefined ">Select</option>
                                    <option  *ngFor="let option of BloodGroupList" value="{{option}}">
                                      {{option}}
                                    </option>
                                   </select>
                                </div>
                                <div class="col-sm-3 ">
                                    <label class="control-label">Date Of Birth<sup class="text-danger">*</sup></label>
                                    <ejs-datepicker [format]=" 'dd/MMM/yyyy' " [(value)]='DOB' name="D_O_B" [enabled]="userdatedisabled"></ejs-datepicker>
                                </div>
                                <div class="col-sm-3 ">
                                    <label class="control-label">Father/Mother's Name<sup class="text-danger">*</sup></label>
                                    <input class="form-control" placeholder="Father/Mother's Name" name="Father" #Father="ngModel" [(ngModel)]="objemployee.Gurdian_Name" [disabled]="userdisabled" [ngClass]="{'clearance ': EmployeeFormSubmitted && Father.errors?.required}" required>
                                </div>
                                <div class="col-sm-3">
                                    <label class="control-label">Spouse Name</label>
                                    <input class="form-control" placeholder="Spouse Name" name="Husband" #Husband="ngModel" [(ngModel)]="objemployee.Spouse_Wife_Name" [disabled]="userdisabled">
                                </div>
                                <div class="col-sm-3">
                                    <label class="control-label">Phone</label>
                                    <input class="form-control" placeholder="Phone" name="Phone" #Phone="ngModel" CompacctDigitonly="true" [(ngModel)]="objemployee.Contact_Phone" [disabled]="userdisabled">
                                </div>
                                <div class="col-sm-3">
                                    <label class="control-label">Mobile No<sup class="text-danger">*</sup></label>
                                    <input class="form-control" placeholder="Mobile No" name="Mobile" #Mobile="ngModel" [(ngModel)]="objemployee.Contact_Mobile" [disabled]="userdisabled" CompacctDigitonly="true" minlength="10" maxlength="10" [ngClass]="{'clearance ': EmployeeFormSubmitted && Mobile.errors?.required}"
                                        required>
                                </div>
                                <div class="col-sm-3">
                                    <label class="control-label">Emergency Contact<sup class="text-danger">*</sup></label>
                                    <input class="form-control" placeholder="Emergency Contact" name="Emergency" #Emergency="ngModel" [(ngModel)]="objemployee.Emergency_Contact" [disabled]="userdisabled" CompacctDigitonly="true" [ngClass]="{'clearance ': EmployeeFormSubmitted && Emergency.errors?.required}" required>
                                </div>
                                <div class="col-sm-3">
                                    <label class="control-label">Email</label>
                                    <input class="form-control" placeholder="Email" name="Email" #Email="ngModel" [(ngModel)]="objemployee.Contact_Email" [disabled]="userdisabled">
                                </div>
                                <div class="col-sm-3">
                                    <label class="control-label">Physically Challenged<sup class="text-danger">*</sup></label>
                                    <select class="form-control" name="Challenged" #Challenged="ngModel" [(ngModel)]="objemployee.Physically_Chalanged" [disabled]="userdisabled" [ngClass]="{'clearance ': EmployeeFormSubmitted && Challenged.errors?.required}" required>
                                        <option  [ngValue]="undefined">Select</option>
                                    <option  *ngFor="let option of physicallyChallanged" value="{{option}}">
                                      {{option}}
                                    </option>
                                   </select>
                                </div>

                                <div class="col-sm-3">
                                    <label class="control-label">EPIC NO</label>
                                    <input class="form-control" placeholder="EPIC NO" name="EPIC" #EPIC="ngModel" [(ngModel)]="objemployee.EPIC_No" [disabled]="userdisabled">
                                </div>
                                <div class="col-sm-3">
                                    <label class="control-label">AADHAAR NO</label>
                                    <input class="form-control" placeholder="Aadhaar No" name="ADHAR" CompacctDigitonly="true" maxlength="12" minlength="12" #ADHAR="ngModel" [(ngModel)]="objemployee.Adhar_No" [disabled]="userdisabled">
                                </div>
                                <div class="col-sm-3">
                                    <label class="control-label">PAN NO</label>
                                    <input class="form-control" id="txtPANCard" placeholder="Pan No" name="PAN" #PAN="ngModel" maxlength="10" minlength="10" [(ngModel)]="objemployee.PAN_No" [disabled]="userdisabled" (ngModelChange)='ValidatePAN() ' [ngClass]="{clearance:(PANvalidFlag) ||(PAN.errors?.minlength && PAN.touched)}">
                                </div>
                                <div class="col-sm-3">
                                    <label class="control-label">Highest Qualification</label>
                                    <input class="form-control" placeholder="Highest Qualification" name="highqualification" #highqualification="ngModel" [(ngModel)]="objemployee.Highest_Qualification" [disabled]="userdisabled"  [ngClass]="{'clearance ': EmployeeFormSubmitted && highqualification.errors?.required}">
                                </div>

                            </div>
                            <div class="container pull-left">
                                <div class="form-group" style="padding: 1em;">
                                    <h5 style="
                                padding: 0.5em 1em;
                                background: #c1c1c185;
                                border-top: 5px solid #3c8dbc;
                                border-bottom: 1px solid #c6c6c6;
                                margin-top: -4px;
                                ">
                                        <i class="fa fa-bars">
                                </i> &nbsp;<strong>Posting Details:</strong></h5>
                                    <div class="col-sm-6">
                                        <label class="control-label">Working Company<sup class="text-danger">*</sup></label>
                                        <select class="form-control" name="Working" #Working="ngModel" [(ngModel)]="objemployee.Comp_ID" [disabled]="userdisabled" [ngClass]="{'clearance ': EmployeeFormSubmitted && Working.errors?.required}" required>
                                            <option  [ngValue]="undefined">Select</option>
                                        <option  *ngFor="let option of WorkingCompanyList" value="{{option.Comp_ID}}">
                                          {{option.Comp_Short_Code}}
                                        </option>
                                       </select>
                                    </div>
                                    <div class="col-sm-6">
                                        <label class="control-label">Current Location<sup class="text-danger">*</sup></label>
                                        <select class="form-control" name="Current" #Current="ngModel" [(ngModel)]="objemployee.Location_ID" [disabled]="userdisabled" [ngClass]="{'clearance ': EmployeeFormSubmitted && Current.errors?.required}" required>
                                            <option  [ngValue]="undefined">Select</option>
                                        <option  *ngFor="let option of LocationList" value="{{option.Location_ID}}">
                                          {{option.Location}}
                                        </option>
                                       </select>
                                    </div>
                                    <div class="col-sm-6" style="margin-top: 10px;">
                                        <label class="control-label">Department<sup class="text-danger">*</sup></label>
                                        <div class="pull-right" *ngIf="!userdisabled">
                                            <span (click)="ViewDepartmentType()" class="btn-vk createPatient" style="cursor: pointer;"><i class="fa fa-fw fa-eye"></i> View</span> &nbsp;
                                            <span (click)="CreateDepartment()" class="btn-vk createPatient" style="cursor: pointer;"><i class="fa fa-fw fa-plus"></i> Create</span>
                                        </div>
                                        <select class="form-control" name="Department" #Department="ngModel" [(ngModel)]="objemployee.Dept_ID" [disabled]="userdisabled" [ngClass]="{'clearance ': EmployeeFormSubmitted && Department.errors?.required}" required>
                                            <option  [ngValue]="undefined">Select</option>
                                        <option  *ngFor="let option of DeptList" value="{{option.Dept_ID}}">
                                          {{option.Dept_Name}}
                                        </option>
                                       </select>
                                    </div>

                                    <div class="col-sm-6" style="margin-top: 10px;">
                                        <label class="control-label">Designation<sup class="text-danger">*</sup></label>
                                        <div class="pull-right" *ngIf="!userdisabled">
                                            <span (click)="ViewDesignationType()" class="btn-vk createPatient" style="cursor: pointer;"><i class="fa fa-fw  fa-eye"></i> View</span> &nbsp;
                                            <span (click)="CreateDesignation()" class="btn-vk createPatient" style="cursor:pointer"><i class="fa fa-fw  fa-plus"></i> Create</span>
                                        </div>
                                        <select class="form-control" name="Designation" #Designation="ngModel" [(ngModel)]="objemployee.Desig_ID" [disabled]="userdisabled" [ngClass]="{'clearance ': EmployeeFormSubmitted && Designation.errors?.required}" required>
                                            <option  [ngValue]="undefined">Select</option>
                                        <option  *ngFor="let option of DesignationList" value="{{option.Desig_ID}}">
                                          {{option.Designation}}
                                        </option>
                                       </select>
                                    </div>
                                    <div class="col-sm-6">
                                        <label class="control-label">Grade</label>
                                        <select class="form-control" name="grade" #grade="ngModel" [(ngModel)]="objemployee.Grade_ID " [disabled]="userdisabled" [ngClass]="{'clearance ': EmployeeFormSubmitted && grade.errors?.required}" >
                                            <option  [ngValue]="undefined">Select</option>
                                        <option  *ngFor="let option of GradeList" value="{{option.Grade_ID}}">
                                          {{option.Grade_Desc}}
                                        </option>
                                       </select>
                                    </div>
                                    <div class="col-sm-6">
                                        <label class="control-label">Personal Area<sup *ngIf="databaseName === 'MICL_Demo' || databaseName === 'MICL'" class="text-danger">*</sup></label>
                                        <input class="form-control" placeholder="Personal Area" name="parea" #parea="ngModel" [(ngModel)]="objemployee.Personal_Area" [disabled]="userdisabled" [ngClass]="{'clearance ': EmployeeFormSubmitted && parea.errors?.required}" [required]="databaseName === 'MICL_Demo' || databaseName === 'MICL' ? true : false">
                                    </div>
                                    <div class="col-sm-6">
                                        <label class="control-label">State</label>
                                        <input class="form-control" placeholder="State" name="Posting_State" #Posting_State="ngModel" [(ngModel)]="objemployee.Posting_State" [disabled]="userdisabled">
                                    </div>
                                    <div class="col-sm-2" style="margin-top: 1px;">
                                        <label class="control-label">Is HOD</label>
                                        <p-checkbox [(ngModel)]="objemployee.Is_HOD" [disabled]="userdisabled" name="Hold_Bill_Flag" [binary]="true"></p-checkbox>
                                    </div>
                                </div>
                            </div>
                            <div class="container pull-right">
                                <div class="form-group" style="padding: 1em;">
                                    <h5 style="
                                    padding: 0.5em 1em;
                                    background: #c1c1c185;
                                    border-top: 5px solid #3c8dbc;
                                    border-bottom: 1px solid #c6c6c6;
                                    margin-top: -4px;
                                    ">
                                        <i class="fa fa-bank">
                                    </i> &nbsp;<strong>Salary payments Details:</strong></h5>
                                    <div class="col-sm-4">
                                        <label class="control-label">Salary Paid By<sup class="text-danger">*</sup></label>
                                        <select class="form-control" name="Salary_Paid" #Salary_Paid="ngModel" [(ngModel)]="objemployee.Salary_Paid_By" [disabled]="userdisabled" (change)="Bankinfo()" [ngClass]="{'clearance ': EmployeeFormSubmitted && Salary_Paid.errors?.required}" required>
                                             <option  [ngValue]="undefined">Select</option>
                                        <option  *ngFor="let option of SalaryPaidList" value="{{option}}">
                                          {{option}}
                                        </option> 
                                       </select>
                                    </div>
                                    <div class="col-sm-4">
                                        <label class="control-label">Bank Account No<sup class="text-danger">*</sup></label>
                                        <input class="form-control" placeholder="Type Bank Account No" name="AcNo" #AcNo="ngModel" [(ngModel)]="objemployee.Bank_Ac_No" [disabled]="isdiabled" [ngClass]="{'clearance ': EmployeeFormSubmitted && AcNo.errors?.required}" required>
                                    </div>
                                    <div class="col-sm-4">
                                        <label class="control-label">Bank Name<sup class="text-danger">*</sup></label>
                                        <select class="form-control" name="Bname" #Bname="ngModel" [(ngModel)]="objemployee.Bank_ID" [disabled]="isdiabled" [ngClass]="{'clearance ': EmployeeFormSubmitted && Bname.errors?.required}" required>
                                            <option  [ngValue]="undefined">Select</option>
                                        <option  *ngFor="let option of BankNameDetails" value="{{option.Bank_ID}}">
                                          {{option.Bank_Name}}
                                        </option>
                                       </select>
                                    </div>
                                    <div class="col-sm-4">
                                        <label class="control-label">Bank A/C Type<sup class="text-danger">*</sup></label>
                                        <select class="form-control" name="AcType" #AcType="ngModel" [(ngModel)]="objemployee.Bank_Ac_Type" [disabled]="isdiabled" [ngClass]="{'clearance ': EmployeeFormSubmitted && AcType.errors?.required}" required>
                                        <option  [ngValue]="undefined">Select</option>
                                      <option  *ngFor="let option of BankAcList" value="{{option}}">
                                      {{option}}
                                    </option>
                                   </select>
                                    </div>
                                    <div class="col-sm-4">
                                        <label class="control-label">IFSC Code<sup class="text-danger">*</sup></label>
                                        <input class="form-control" placeholder="Type IFSC Code" name="IFSC" #IFSC="ngModel" [(ngModel)]="objemployee.Bank_IFSC_Code" [disabled]="isdiabled" [ngClass]="{'clearance ': EmployeeFormSubmitted && IFSC.errors?.required}" required>
                                    </div>
                                    <div class="col-sm-4">
                                        <label class="control-label">Branch Name<sup class="text-danger">*</sup></label>
                                        <input class="form-control" placeholder="Type Branch Name" name="Branch" #Branch="ngModel" [(ngModel)]="objemployee.bank_branch_name" [disabled]="isdiabled" [ngClass]="{'clearance ': EmployeeFormSubmitted && Branch.errors?.required}" required>
                                    </div>

                                </div>
                            </div>
                            <div class="clearfix"></div>
                            <div class="container pull-left">
                                <div class="form-group" style="padding: 1em;">
                                    <h5 style="
                            padding: 0.5em 1em;
                            background: #c1c1c185;
                            border-top: 5px solid #3c8dbc;
                            border-bottom: 1px solid #c6c6c6;
                            margin-top: -4px;
                            ">
                                        <i class="fa fa-certificate">
                            </i> &nbsp;<strong>Joining Details:</strong></h5>
                                    <div class="col-sm-12">
                                        <label class="control-label">Joining Date</label>
                                        <ejs-datepicker [format]="'dd/MMM/yyyy'" [(value)]='Joining_Dt' name="joining_date" [enabled]="userdatedisabled"></ejs-datepicker>
                                    </div>
                                    <div class="col-sm-12">
                                        <label class="control-label">Employment Status<sup class="text-danger">*</sup></label>
                                        <select class="form-control" name="Emp_Status" #Emp_Status="ngModel" [(ngModel)]="objemployee.Present_Status" (change)="leftdatechange()" [disabled]="userdisabled" [ngClass]="{'clearance ': EmployeeFormSubmitted && Emp_Status.errors?.required}" required>
                                 <option  [ngValue]="undefined">Select</option>
                                 <!-- <option *ngIf="databaseName != 'MICL_Demo' && databaseName != 'MICL'"  value="PROFESSIONAL"> 
                                         PROFESSIONAL</option> -->
                            <option  *ngFor="let option of Statuslist" value="{{option.Employee_Status}}">
                              {{option.Employee_Status}}
                            </option> 
                           </select>
                                    </div>
                                    <div class="col-sm-12">
                                        <label class="control-label">Resign On</label>
                                        <ejs-datepicker [format]="'dd/MMM/yyyy'" [(value)]='Resign_On' name="resign_on"></ejs-datepicker>
                                    </div>
                                    <div class="col-sm-12">
                                        <label class="control-label">Release On</label>
                                        <ejs-datepicker [format]="'dd/MMM/yyyy'" [(value)]='Leave_Dt' name="left_on" [enabled]="leftdisabled"></ejs-datepicker>
                                    </div>
                                </div>
                            </div>
                            <div class="container pull-right">
                                <div class="form-group" style="padding: 1em;">
                                    <h5 style="
                                padding: 0.5em 1em;
                                background: #c1c1c185;
                                border-top: 5px solid #3c8dbc;
                                border-bottom: 1px solid #c6c6c6;
                                margin-top: -4px;
                                ">
                                        <i class="fa fa-fw fa-fax">
                                </i> &nbsp;<strong>Attendance Details:</strong></h5>
                                    <div class="col-sm-12">
                                        <label class="control-label"> 1St Weekly Off<sup class="text-danger">*</sup></label>
                                        <select class="form-control" name="Weekoff1" #Weekoff1="ngModel" [(ngModel)]="objemployee.Off_Day" [disabled]="userdisabled" [ngClass]="{'clearance ': EmployeeFormSubmitted && Weekoff1.errors?.required}" required>
                                        <option  [ngValue]="undefined">Select</option>
                                    <option  *ngFor="let option of weakofflist" value="{{option}}">
                                      {{option}}
                                    </option> 
                                   </select>
                                    </div>
                                    <div class="col-sm-12">
                                        <label class="control-label">2nd Weekly Off</label>
                                        <select class="form-control" name="Weekoff2" #Weekoff2="ngModel" [(ngModel)]="objemployee.Second_Off_Day" [disabled]="userdisabled">
                                     <option  [ngValue]="undefined">Select</option>
                                <option  *ngFor="let option of weakofflist2" value="{{option}}">
                                  {{option}}
                                </option> 
                               </select>
                                    </div>
                                    <div class="col-sm-12">
                                        <label class="control-label">Duty Start Time</label>
                                        <ejs-timepicker placeholder='Select a time' [(value)]="objemployee.Off_In_Time" name="Off_In_Time" #Off_In_Time="ngModel" [ngModel]="objemployee.Off_In_Time" [enabled]="userdatedisabled" [format]="'hh:mm a'" [value]='TimeValue ' (change)="CalculateTime()"></ejs-timepicker>
                                    </div>
                                    <div class="col-sm-12">
                                        <label class="control-label">Duty End Time</label>
                                        <ejs-timepicker placeholder='Select a time' [(value)]="objemployee.Off_Out_Time" name="Off_Out_Time" #Off_Out_Time="ngModel" [ngModel]="objemployee.Off_Out_Time" [enabled]="userdatedisabled" [format]="'hh:mm a'" [value]='TimeValue ' (change)="CalculateTime()"></ejs-timepicker>
                                    </div>
                                    <div class="col-sm-12">
                                         <label class="control-label">Working Hours (In Mins)</label>
                                        <!--<div class="label-t">{{objemployee.Working_Hours_Mins}}</div> -->
                                        <input class="form-control" placeholder="Working Hours (In Mins)" name="Working_Hours_Mins" #Working_Hours_Mins="ngModel" [(ngModel)]="objemployee.Working_Hours_Mins" [disabled]="true">
                                    </div>
                                    <div class="col-sm-12" style="padding-top: 10px;">
                                        <p-checkbox label="Eligible For OT" [(ngModel)]="objemployee.OT_Avail" [disabled]="userdisabled" name="otavail" binary="true"></p-checkbox>
                                    </div>
                                    <div class="col-sm-12" style="padding-top: 10px;">
                                        <p-checkbox label="Late Deduction" [(ngModel)]="objemployee.Late_Ded_Tag" [disabled]="userdisabled" name="Late_Deduct" binary="true"></p-checkbox>
                                    </div>
                                    <div class="col-sm-12" style="padding-top: 10px;">
                                        <p-checkbox label="Attendance Using Biometric" [(ngModel)]="objemployee.Is_Biometric" [disabled]="userdisabled" name="Biometric" binary="true"></p-checkbox>
                                    </div>
                                </div>
                            </div>
                            <div class="clearfix"></div>
                            <div class="form-group" style="padding: 1em;">
                                <h5 style="
                            padding: 0.5em 1em;
                            background: #c1c1c185;
                            border-top: 5px solid #3c8dbc;
                            border-bottom: 1px solid #c6c6c6;
                            margin-top: -18px;
                            ">
                                    <i class="fa fa-slack" aria-hidden="true">
                            </i> &nbsp;<strong>Statutary Details:</strong></h5>
                                <div class="col-sm-4">
                                    <label class="control-label">ESIC Details</label>
                                    <div class="input-group ">
                                        <div class="input-group-addon">
                                            <p-checkbox label="ESIC No" [(ngModel)]="objemployee.ESI_Avail" [disabled]="userdisabled" name="ESI" #ESI="ngModel" binary="true" (ngModelChange)="Esicheck(objemployee.ESI_Avail)"></p-checkbox>
                                        </div>
                                        <input class="form-control" name="Esi_No" #Esi_No="ngModel" [(ngModel)]="objemployee.ESI_No" [disabled]="!objemployee.ESI_Avail">
                                    </div>
                                </div>
                                <div class="col-sm-6">
                                    <label class="control-label">PF Details</label>
                                    <div class="input-group ">
                                        <div class="input-group-addon">
                                            <p-checkbox label="PF No" [(ngModel)]="objemployee.PF_Avail" [disabled]="userdisabled" name="PF" binary="true" #PF="ngModel" (ngModelChange)="pfcheck(objemployee.PF_Avail)"></p-checkbox>
                                        </div>
                                        <input class="form-control" name="PF_No" #PF_No="ngModel" [(ngModel)]="objemployee.PF_Ac_No" [disabled]="!objemployee.PF_Avail" [disabled]="userdisabled">
                                        <span class="input-group-btn" style="width:0px;"></span>

                                        <div class="input-group-addon">
                                            <label>UAN No</label>
                                        </div>
                                        <input class="form-control" name="UNA" #UNA="ngModel" [(ngModel)]="objemployee.UAN_NO" [disabled]="!objemployee.PF_Avail" [disabled]="userdisabled">
                                    </div>

                                </div>
                                <div class="col-sm-2" style="margin-top: 31px;">
                                    <p-checkbox label="P.TAX Deduct" [(ngModel)]="objemployee.PTax_Avail" [disabled]="userdisabled" name="P_tax" #P_tax="ngModel" binary="true"></p-checkbox>
                                </div>
                            </div>
                            <div class="form-group" style="padding: 1em;">
                                <h5 style="
                                padding: 0.5em 1em;
                                background: #c1c1c185;
                                border-top: 5px solid #3c8dbc;
                                border-bottom: 1px solid #c6c6c6;
                                margin-top: -10px;
                                ">
                                    <i class="glyphicon glyphicon-user">
                                </i> &nbsp;<strong>Managers</strong></h5>
                                <div class="col-sm-6">
                                    <label class="control-label">Approval 1</label>
                                    <div class="pull-right" *ngIf="!userdisabled">
                                        <span (click)="RefreshReporting()" class="btn-vk  createPatient" style="cursor: pointer;"><i class="fa fa-refresh"></i> Refresh</span>
                                    </div>
                                    <select class="form-control" name="Reporting" #Reporting="ngModel" [(ngModel)]="objemployee.Report_Manager" [disabled]="userdisabled">
                                        <option  [ngValue]="undefined">Select</option>
                                    <option  *ngFor="let option of ReportingList" value="{{option.Emp_ID}}">
                                      {{option.NAME}}
                                    </option>
                                   </select>
                                </div>
                                <div class="col-sm-6">
                                    <div class="pull-right" *ngIf="!userdisabled">
                                        <span (click)="RefreshReporting()" class="btn-vk  createPatient" style="cursor: pointer;"><i class="fa fa-refresh"></i> Refresh</span>
                                    </div>
                                    <label class="control-label">Approval 2</label>
                                    <select class="form-control" name="Business" #Business="ngModel" [(ngModel)]="objemployee.Business_Manager" [disabled]="userdisabled">
                                        <option  [ngValue]="undefined">Select</option>
                                    <option  *ngFor="let option of ReportingList" value="{{option.Emp_ID}}">
                                      {{option.NAME}}
                                    </option>
                                   </select>
                                </div>

                            </div>
                            <div class="form-group" style="padding: 1em;">
                                <h5 style="
                                padding: 0.5em 1em;
                                background: #c1c1c185;
                                border-top: 5px solid #3c8dbc;
                                border-bottom: 1px solid #c6c6c6;
                                margin-top: -4px;
                                ">
                                    <i class="fa fa-slack" aria-hidden="true">
                                </i> &nbsp;<strong>Remarks:</strong></h5>
                                <div class="col-sm-6">
                                    <label class="control-label">Remarks About This Employee</label>
                                    <textarea name="Remarks" placeholder="Remarks" row='1 ' class="form-control" [(ngModel)]="objemployee.Remarks" [disabled]="userdisabled"> </textarea>
                                </div>
                            </div>
                        </form>
                        <form name="EmployeeDOCForm" #EmployeeDOCForm="ngForm" novalidate>
                            <div class="form-group" style="padding: 1em;">
                                <h5 style="
                                    padding: 0.5em 1em;
                                    background: #c1c1c185;
                                    border-top: 5px solid #3c8dbc;
                                    border-bottom: 1px solid #c6c6c6;
                                    margin-top: -8px;
                                    ">
                                    <i class="fa fa-file"></i> &nbsp;
                                    <strong>Atteched Document Details:</strong></h5>
                                <div class="col-sm-4">
                                    <label class="control-label">Document Details<sup class="text-danger">*</sup></label>
                                    <input class="form-control" placeholder="Document Details" name="Document" #Document="ngModel" [(ngModel)]="objemployee.Document_Name" [disabled]="userdisabled" [ngClass]="{'clearance ': DocvalidSubmit && Document.errors?.required}" required>
                                </div>
                                <div class="col-sm-4">
                                    <label class="control-label">Add Documents<sup class="text-danger">*</sup></label>
                                    <p-fileUpload #fileInput name="aFile" accept="image/*,application/pdf" [chooseLabel]="'Browse '" [showUploadButton]="false" (onSelect)="FetchPDFFile($event)" [disabled]="userdisabled"></p-fileUpload>
                                </div>
                                <div class="col-sm-4">
                                    <button class="btn btn-primary custombutton1" style="margin-top: 31px; margin-left: 56px;" (click)="addDocuments()" [disabled]="userdisabled" [disabled]="SpinnerDoc">
                                        <p-progressSpinner *ngIf="SpinnerDoc"[style]="{width: '15px ', height: '15px '}" strokeWidth="8"  animationDuration=".5s"></p-progressSpinner>
                                                <span *ngIf="!SpinnerDoc" class="fa fa-upload">&nbsp; Upload Document</span>
                                            
                                        </button>

                                </div>

                            </div>
                        </form>


                        <div class="table-responsive no-padding" style="overflow-x: hidden !important;">
                            <p-table #dt [value]="DocumentList" [rowHover]="true" [autoLayout]="true">
                                <ng-template pTemplate="header">
                                    <tr>
                                        <th>File</th>
                                        <th>Document Details</th>
                                        <th></th>
                                    </tr>
                                </ng-template>
                                <ng-template pTemplate="body" let-col let-rowIndex="rowIndex">
                                    <tr class="p-selectable-row">
                                        <td>
                                            <p-button [label]="'Show '" icon="pi pi-image" (click)="showImg(col.Doc_URL)"></p-button>
                                        </td>
                                        <td>{{col.Document_Name}}</td>
                                        <td><button type="button" class="btn btn-danger" (click)="DeleteDoc(rowIndex)"><i class="fa fa-fw fa-close"></i></button></td>
                                    </tr>
                                </ng-template>
                                <ng-template pTemplate="emptymessage">
                                    <tr>
                                        <td colspan="8">No Data found.</td>
                                    </tr>
                                </ng-template>
                            </p-table>
                        </div>

                        <div class="form-group" style="padding: 1em;">
                            <h5 style="
                            padding: 0.5em 1em;
                            background: #c1c1c185;
                            border-top: 5px solid #3c8dbc;
                            border-bottom: 1px solid #c6c6c6;
                            margin-top: -10px;
                            ">
                                <i class="glyphicon glyphicon-user">
                            </i> &nbsp;<strong>ERP Settings</strong></h5>
                            <div class="col-sm-6">
                                <label class="control-label">ERP User ID</label>
                                <select class="form-control" name="Reporting" #Reporting="ngModel" [(ngModel)]="objemployee.Login_User_ID" [disabled]="userdisabled">
                                    <option  [ngValue]="undefined">Select</option>
                                <option  *ngFor="let option of UserList" value="{{option.User_ID}}">
                                  {{option.Name}}
                                </option>
                               </select>
                            </div>
                        </div>

                        <div class="box-footer">
                            <button [disabled]="userdisabled" class="btn btn-primary pull-right" id="load" (click)="saveemployeemaster(EmployeeForm.form.valid)" [disabled]="Spinner">
                                                <p-progressSpinner *ngIf="Spinner"[style]="{width: '15px ', height: '15px '}" strokeWidth="8"  animationDuration=".5s"></p-progressSpinner>
                                            <span *ngIf="!Spinner" class="glyphicon glyphicon-save">{{buttonname}}</span>
                                        </button>
                        </div>


                    </p-tabView>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Designation -->
<p-dialog [header]="'View'" [appendTo]="'body'" [(visible)]="ViewProTypeModal"  [modal]="true" [responsive]="true" [style]="{ width: '40%', minWidth: '300px' }" style="text-align: center;" [minY]="70" [maximizable]="true"
    [baseZIndex]="10000">

    <div class="table-responsive table-id no-padding" style="overflow-x: hidden !important;">
        <p-table [value]="ViewDesignationList" [globalFilterFields]='["Designation"]' [rowHover]="true" [autoLayout]="true" #dt2>
            <ng-template pTemplate="caption">
                <div class="row">
                    <div class="col-sm-3 pull-right" style="text-align: right">
                        <input type="text" pInputText size="50" placeholder="Search" (input)="dt2.filterGlobal($event.target.value, 'contains')" class="searchInput form-control">
                    </div>
                </div>

            </ng-template>
            <ng-template pTemplate="header">
                <tr>
                    <!-- <th width='50%'>Product Description</th>
                    <th width='25%'>Batch No</th>
                    <th width='25%'>Receive Qty</th> -->
                    <th>Designation</th>

                    <!-- <th>Action</th> -->
                </tr>
            </ng-template>
            <ng-template pTemplate="body" let-col>
                <tr>

                    <!-- <td>{{col.Product_Description}}</td>
                    <td>{{col.Batch_No}}</td>
                    <td>{{col.Rcv_Qty}}</td> -->
                    <td>{{col.Designation}}</td>

                    <!-- <td><button (click)="DeleteDesignation(col)" class="btn danger"><i class="fa fa-trash"></i></button></td> -->

                </tr>
            </ng-template>
        </p-table>
    </div>



    <p-footer>
        <button type="button" (click)="ViewProTypeModal = false" class="btn btn-default">
CLOSE
</button>
    </p-footer>
</p-dialog>


<p-dialog [header]="'Create'" [appendTo]="'body'" [visible]="ViewProTypeModal2" [closeOnEscape]="true" [closable]="false" [modal]="true" [responsive]="true" [style]="{ width: '40%', minWidth: '400px' }" style="text-align: center;" [minY]="70" [maximizable]="true"
    [baseZIndex]="10000">

    <div class="form-horizontal">
        <div class="form-group">
            <div class="col-sm-12">
                <label class="control-label">Designation<sup class="text-danger">*</sup></label>
                <input class="form-control" name="dis_Reason" [(ngModel)]="Desig" placeholder="Designation" [ngClass]="{'clearance': Desigsubmitted && !Desig}" required>
            </div>
        </div>



    </div>
    <p-footer>
        <button type="button" pButton icon="pi pi-check" (click)="SaveDesignation(Desig)" label="Create"></button>
        <button type="button" (click)="ViewProTypeModal2 = false" class="btn btn-default">
  CLOSE
</button>
    </p-footer>
</p-dialog>

<!-- Department -->
<p-dialog [header]="'View'" [appendTo]="'body'" [(visible)]="ViewProTypeModal3" [modal]="true" [responsive]="true" [style]="{ width: '40%', minWidth: '400px' }" style="text-align: center;" [minY]="70" [maximizable]="true"
    [baseZIndex]="10000">

    <div class="table-responsive table-id no-padding" style="overflow-x: hidden !important;">
        <p-table [value]="ViewDepartmentList" [globalFilterFields]='["Dept_Name"]' [rowHover]="true" [autoLayout]="true" #dt3>
            <ng-template pTemplate="caption">
                <div class="row">
                    <div class="col-sm-3 pull-right" style="text-align: right">
                        <input type="text" pInputText size="50" placeholder="Search" (input)="dt3.filterGlobal($event.target.value, 'contains')" class="searchInput form-control">
                    </div>
                </div>

            </ng-template>
            <ng-template pTemplate="header">
                <tr>
                    <!-- <th width='50%'>Product Description</th>
                    <th width='25%'>Batch No</th>
                    <th width='25%'>Receive Qty</th> -->
                    <th>Department</th>

                    <!-- <th>Action</th> -->
                </tr>
            </ng-template>
            <ng-template pTemplate="body" let-col>
                <tr>

                    <!-- <td>{{col.Product_Description}}</td>
                    <td>{{col.Batch_No}}</td>
                    <td>{{col.Rcv_Qty}}</td> -->
                    <td>{{col.Dept_Name}}</td>

                    <!-- <td><button (click)="DeleteDepartment(col)" class="btn danger"><i class="fa fa-trash"></i></button></td> -->

                </tr>
            </ng-template>
        </p-table>
    </div>



    <p-footer>
        <button type="button" (click)="ViewProTypeModal3 = false" class="btn btn-default">
CLOSE
</button>
    </p-footer>
</p-dialog>

<p-dialog [header]="'Create'" [appendTo]="'body'" [visible]="ViewProTypeModal4" [closeOnEscape]="true" [closable]="false" [modal]="true" [responsive]="true" [style]="{ width: '40%', minWidth: '300px' }" style="text-align: center;" [minY]="70" [maximizable]="true"
    [baseZIndex]="10000">

    <div class="form-horizontal">
        <div class="form-group">
            <div class="col-sm-12">
                <label class="control-label">Department<sup class="text-danger">*</sup></label>
                <input class="form-control" name="dis_Department" [(ngModel)]="Dept" placeholder="Department" [ngClass]="{'clearance': Deptsubmitted && !Dept}" required>
            </div>
        </div>



    </div>
    <p-footer>
        <button type="button" pButton icon="pi pi-check" (click)="SaveDepartment(Dept)" label="Create"></button>
        <button type="button" (click)="ViewProTypeModal4 = false" class="btn btn-default">
  CLOSE
</button>
    </p-footer>
</p-dialog>