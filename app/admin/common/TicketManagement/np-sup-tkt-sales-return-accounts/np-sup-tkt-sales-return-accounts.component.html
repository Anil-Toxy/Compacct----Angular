<p-toast key="compacct-toast" baseZIndex="99999"></p-toast>
<p-toast position="center" baseZIndex="99999" key="c" (onClose)="onReject()" [modal]="true" [autoZIndex]="true">
    <ng-template let-message pTemplate="message">
        <div style="text-align: center">
            <i class="pi pi-exclamation-triangle" style="font-size: 3em"></i>
            <h3>{{message.summary}}</h3>
            <p>{{message.detail}}</p>
        </div>
        <div class="ui-g ui-fluid">
            <div class="ui-g-6">
                <button type="button" pButton (click)="onConfirm()" label="Yes" class="ui-button-success"></button>
            </div>
            <div class="ui-g-6">
                <button type="button" pButton (click)="onReject()" label="No" class="ui-button-secondary"></button>
            </div>
        </div>
    </ng-template>
</p-toast>

<div class="row">
    <div class="col-xs-12">
        <div class="box box-primary">
            <div class="form-horizontal">
                <div class="box-body">
                    <p-tabView [activeIndex]="tabIndexToView" (onChange)="TabClick($event)">
                        <p-tabPanel headerStyleClass="compacct-tabs" [header]="items[0]" leftIcon="fa fa-check">
                            <fieldset class="col-md-12">
                                <legend>Filter</legend>
                                <div class="form-group">
                                    <div class="col-sm-3">
                                        <label class="control-label">Sales Executive<span class="text-danger"></span></label>
                                        <p-multiSelect [options]="DistEmployee1" [(ngModel)]="DistEmployeeSelect1" [virtualScroll]="true"
                                            itemSize="30" [styleClass]="'compacct-multiselect'" (onChange)='FilterDist1()'
                                            name="cal"></p-multiSelect>
                                    </div>
                                    <div class="col-sm-3">
                                        <label class="control-label">Customer<span class="text-danger"></span></label>
                                        <p-multiSelect [options]="DistCustomer1" [(ngModel)]="DistCustomerSelect1" [virtualScroll]="true" itemSize="30"
                                            [styleClass]="'compacct-multiselect'" (onChange)='FilterDist1()' name="Payment"></p-multiSelect>
                                    </div>
                                     <div class="col-sm-3">
                                        <label class="control-label">User name<span class="text-danger"></span></label>
                                        <p-multiSelect [options]="DistUser1" [(ngModel)]="DistUserSelect1" [virtualScroll]="true"
                                            itemSize="30" [styleClass]="'compacct-multiselect'" (onChange)='FilterDist1()'
                                            name="isbloc"></p-multiSelect>
                                    </div>
                                    <div class="col-sm-3">
                                        <label class="control-label">Status<span class="text-danger"></span></label>
                                        <p-multiSelect [options]="DistStatus1" [(ngModel)]="DistStatusSelect1" [virtualScroll]="true" itemSize="30"
                                            [styleClass]="'compacct-multiselect'" (onChange)='FilterDist1()' name="cal"></p-multiSelect>
                                    </div>
                                </div>
                            </fieldset>
                            <div class="clearfix"></div>
                            <div class="table-responsive no-padding">
                                <p-table #dt [value]="Approvelist" *ngIf="Approvelist.length"
                                    [globalFilterFields]="ApprovelistHeader" [paginator]="true" [rows]="100"
                                    [rowHover]="true" [autoLayout]="true" sortMode="multiple"
                                    [rowsPerPageOptions]="[100,300,500]" [rowHover]="true">
                                    <ng-template pTemplate="caption">
                                        <div class="row">
                                            <div class="col-sm-3 pull-right" style="text-align: right;">
                                                <input type="text" pInputText size="50" placeholder="Search"
                                                    (input)="dt.filterGlobal($event.target.value, 'contains')"
                                                    class="searchInput form-control">
                                            </div>
                                        </div>

                                    </ng-template>
                                    <ng-template pTemplate="header">
                                        <tr>
                                            <th style="width:5em">Action</th>
                                            <th>Ticket No</th>
                                            <th>Sales Executive</th>
                                            <th>Return Date</th>
                                            <th>Customer</th>
                                            <th>Total Pick Up Qty</th>
                                            <th>Accounts Amount</th>
                                            <th>User name</th>
                                            <th>Status</th>
                                        </tr>
                                    </ng-template>
                                    <ng-template pTemplate="body" let-col>
                                        <tr>
                                            <td>
                                                <div class="dropdown">
                                                    <button class="btn btn-default btn-sm tableButton dropdown-toggle"
                                                        type="button" data-toggle="dropdown" style="height:27px">
                                                        <i class="fa fa-fw fa-bars"></i>
                                                        <span class="caret"></span>
                                                    </button>
                                                    <ul class="dropdown-menu">
                                                        <li>
                                                            <a (click)="ViewTicket(col)">
                                                                <i class="fa fa-eye"></i> View
                                                            </a>
                                                        </li>
                                                    </ul>
                                                </div>
                                            </td>
                                            <td>{{col.Ticket_No ? col.Ticket_No : '-'}}</td>
                                            <td>{{col.Sales_Executive ? col.Sales_Executive : '-'}}</td>
                                            <td>{{col.Return_Date ? col.Return_Date : '-'}}</td>
                                            <td>{{col.Customer ? col.Customer : '-'}}</td>
                                            <td>{{col.Total_Received_Qty ? col.Total_Received_Qty : '-'}}</td>
                                            <td>{{col.Total_Accounts_Amount ? col.Total_Accounts_Amount : '-'}}</td>
                                            <td>{{col.User_name ? col.User_name : '-'}}</td>
                                            <td>
                                                <ng-container *ngFor=" let statusdata of col.Status.split(',')">
                                                    <span
                                                        [ngClass]="'badge bg-'+ getStatusWiseColor(statusdata)">{{statusdata}}</span>
                                                </ng-container>
                                            </td>
                                        </tr>
                                    </ng-template>
                                </p-table>
                            </div>
                        </p-tabPanel>
                        <p-tabPanel headerStyleClass="compacct-tabs" [header]="items[1]" leftIcon="fa fa-clock-o">
                            <div class="table-responsive no-padding">
                                <p-table #dt [value]="pendinglist" *ngIf="pendinglist.length"
                                    [globalFilterFields]="pendinglistlistHeader" [paginator]="true" [rows]="100"
                                    [rowHover]="true" [autoLayout]="true" sortMode="multiple"
                                    [rowsPerPageOptions]="[100,300,500]" [rowHover]="true">
                                    <ng-template pTemplate="caption">
                                        <div class="row">
                                            <div class="col-sm-3 pull-right" style="text-align: right;">
                                                <input type="text" pInputText size="50" placeholder="Search"
                                                    (input)="dt.filterGlobal($event.target.value, 'contains')"
                                                    class="searchInput form-control">
                                            </div>
                                        </div>

                                    </ng-template>
                                    <ng-template pTemplate="header">
                                        <tr>
                                            <th style="width:5em">Action</th>
                                            <th>Ticket No</th>
                                            <th>Sales Executive</th>
                                            <th>Return Date</th>
                                            <th>Customer</th>
                                            <th>Total Pickup Qty</th>
                                            <th>User name</th>
                                            <th>Status</th>
                                        </tr>
                                    </ng-template>
                                    <ng-template pTemplate="body" let-col>
                                        <tr>
                                            <td>
                                                <div class="dropdown">
                                                    <button class="btn btn-default btn-sm tableButton dropdown-toggle"
                                                        type="button" data-toggle="dropdown" style="height:27px">
                                                        <i class="fa fa-fw fa-bars"></i>
                                                        <span class="caret"></span>
                                                    </button>
                                                    <ul class="dropdown-menu">
                                                        <li>
                                                            <a (click)="TicketPOP(col)">
                                                                <i class="fa fa-refresh"></i> Update
                                                            </a>
                                                        </li>
                                                    </ul>
                                                </div>
                                            </td>
                                            <td>{{col.Ticket_No ? col.Ticket_No : '-'}}</td>
                                            <td>{{col.Sales_Executive ? col.Sales_Executive : '-'}}</td>
                                            <td>{{col.Return_Date ? col.Return_Date : '-'}}</td>
                                            <td>{{col.Customer ? col.Customer : '-'}}</td>
                                            <td>{{col.Total_Received_Qty ? col.Total_Received_Qty : '-'}}</td>
                                            <td>{{col.User_name ? col.User_name : '-'}}</td>
                                            <td>
                                                <ng-container *ngFor=" let statusdata of col.Status.split(',')">
                                                    <span
                                                        [ngClass]="'badge bg-'+ getStatusWiseColor(statusdata)">{{statusdata}}</span>
                                                </ng-container>
                                            </td>
                                        </tr>
                                    </ng-template>
                                </p-table>
                            </div>
                        </p-tabPanel>
                    </p-tabView>
                </div>
            </div>
        </div>
    </div>
</div>

<!--Update POP-->
<p-dialog [header]="'Update'" [appendTo]="'body'" [visible]="ShowModal" [closeOnEscape]="true" [closable]="false"
    [modal]="true" [responsive]="true" [style]="{ width: '80%', minWidth: '200px' }" style="text-align: center;"
    [minY]="70" [maximizable]="false" [baseZIndex]="10000">
    <div class="row">
        <div class="col-xs-12">
            <div class="box box-primary">
                <div class="form-horizontal">
                    <div class="box-body">
                        <div class="form-group">
                            <div class="col-sm-4">
                                <label class="control-label">Sales Executive <sup class="text-danger"></sup></label>
                                <div class="label-t">{{UpdateList.length ? UpdateList[0].Member_Name : '-'}}</div>

                            </div>
                            <div class="col-sm-4">
                                <label class="control-label">Date Of Return <sup class="text-danger"></sup></label>
                                <div class="input-group date">
                                    <div class="input-group-addon">
                                        <i class="fa fa-calendar"></i>
                                    </div>
                                    <input CompacctNepaliDatepicker id="Docdatev" name="Docdatev" #Docdatev="ngModel"
                                        Class="form-control" [(ngModel)]="DocDate" disabled>
                                </div>
                            </div>
                            <div class="col-sm-4">
                                <label class="control-label">Customar Name <sup class="text-danger"></sup></label>
                                <div class="label-t">{{UpdateList.length ? UpdateList[0].Sub_Ledger_Name : '-'}}</div>
                            </div>
                        </div>
                        <div class="container-fluid" style="margin-top: 5px;padding-right: 0px; padding-left: 0px;">
                            <div class="panel panel-primary">
                                <div class="panel-heading"></div>
                                <div class="panel-body" style="overflow-y: auto; height: 500px;">
                                    <ng-container *ngFor=" let objsale of UpdateList; let i = index">
                                        <div class="card"
                                            style="margin-top: 3px; border: 2px solid #007ad954; padding: 8px; box-shadow: 10px;box-shadow: 3px 2px lightblue;">
                                            <div class="card-body">
                                                <div class="form-group">
                                                    <div class="col-sm-4">
                                                        <label class="control-label">Product <sup
                                                                class="text-danger"></sup></label>
                                                        <div class="label-t">{{objsale.Product_Description ?
                                                            objsale.Product_Description : '-'}}</div>
                                                    </div>
                                                    <div class="col-sm-4">
                                                        <label class="control-label">Reason Of Return <sup
                                                                class="text-danger"></sup></label>
                                                        <div class="label-t">{{objsale.Reason_Of_Return ?
                                                            objsale.Reason_Of_Return : '-'}} </div>
                                                    </div>
                                                    <div class="col-sm-4">
                                                        <label class="control-label">Condition Of Goods <sup
                                                                class="text-danger"></sup></label>
                                                        <div class="label-t">{{objsale.Condition_Of_Goods ?
                                                            objsale.Condition_Of_Goods : '-'}} </div>
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <div class="col-sm-3">
                                                        <label class="control-label">Qty <sup
                                                                class="text-danger"></sup></label>
                                                        <div class="input-group">
                                                            <div class="label-t">{{objsale.Qty ? objsale.Qty : 0}}</div>
                                                            <span class="input-group-addon">{{objsale.UOM ? objsale.UOM:
                                                                "UOM"}}</span>
                                                        </div>
                                                    </div>
                                                    <div class="col-sm-3">
                                                        <label class="control-label">Rate <sup
                                                                class="text-danger"></sup></label>
                                                        <div class="label-t">{{objsale.Rate ? objsale.Rate : 0}}</div>
                                                    </div>
                                                    <div class="col-sm-3">
                                                        <label class="control-label">Tax Amount <sup
                                                                class="text-danger"></sup></label>
                                                        <div class="label-t">{{objsale.Tax_Amount ? objsale.Tax_Amount :
                                                            0}}</div>
                                                    </div>
                                                    <div class="col-sm-3">
                                                        <label class="control-label">Amount <sup
                                                                class="text-danger"></sup></label>
                                                        <div class="label-t">{{objsale.Amount ? objsale.Amount : 0}}
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <div class="col-sm-3">
                                                        <label class="control-label">Qty Approved <sup
                                                                class="text-danger"></sup></label>
                                                        <div class="input-group">
                                                            <div class="label-t">{{objsale.Approved_Qty ?
                                                                objsale.Approved_Qty : 0}}</div>
                                                            <span class="input-group-addon">{{objsale.UOM ?
                                                                objsale.UOM:"UOM"}}</span>
                                                        </div>
                                                    </div>
                                                    <div class="col-sm-3">
                                                        <label class="control-label">Rate Approved <sup
                                                                class="text-danger"></sup></label>
                                                        <div class="label-t">{{objsale.Approved_Rate ?
                                                            objsale.Approved_Rate : 0}}</div>
                                                    </div>
                                                    <div class="col-sm-3">
                                                        <label class="control-label">Tax Amount Approved <sup
                                                                class="text-danger"></sup></label>
                                                        <div class="label-t">{{objsale.Approved_Tax_Amount ?
                                                            objsale.Approved_Tax_Amount : 0}}</div>
                                                    </div>
                                                    <div class="col-sm-3">
                                                        <label class="control-label">Amount Approved <sup
                                                                class="text-danger"></sup></label>
                                                        <div class="label-t">{{objsale.Approved_Amount ?
                                                            objsale.Approved_Amount : 0}}</div>
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <div class="col-sm-3">
                                                        <label class="control-label">Received Qty<sup
                                                                class="text-danger"></sup></label>
                                                        <div class="input-group">
                                                                <div class="label-t">{{objsale.Received_Qty ?
                                                                objsale.Received_Qty : 0}}</div>
                                                            <span class="input-group-addon">{{objsale.UOM ?
                                                                objsale.UOM:"UOM"}}</span>
                                                        </div>
                                                    </div>
                                                    <div class="col-sm-3">
                                                        <label class="control-label">Account Amount<sup class="text-danger"></sup></label>
                                                        <div class="pull-right">
                                                            <button (click)="SmallPopOpen(i,objsale)" class="btn btn-primary  createPatient"><i
                                                                    class="fa fa-fw  fa-plus"></i>ADD</button>
                                                        </div>
                                                                <div class="label-t">{{objsale.Received_Amount ? objsale.Received_Amount : 0}}</div>
                                                    </div>
                                                    <div class="col-sm-3">
                                                        <label class="control-label">Received Tax Amount<sup
                                                                class="text-danger"></sup></label>
                                                            <div class="label-t">{{objsale.Received_Tax_Amount ?
                                                                objsale.Received_Tax_Amount : 0}}</div>
                                                    </div>
                                                    <div class="col-sm-3">
                                                        <label class="control-label">Received Amount<sup
                                                                class="text-danger"></sup></label>
                                                        <div class="label-t">{{objsale.Received_Amount ?
                                                            objsale.Received_Amount : 0}}</div>
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <div class="col-sm-3">
                                                        <label class="control-label">Type of Return <sup
                                                                class="text-danger"></sup></label>
                                                        <div class="label-t">{{objsale.Type_Of_Return ?
                                                            objsale.Type_Of_Return : '-'}} </div>
                                                    </div>
                                                    <div class="col-sm-3">
                                                        <label class="control-label">Return <sup
                                                                class="text-danger"></sup></label>
                                                        <div class="label-t">{{objsale.Return_Text ? objsale.Return_Text
                                                            : '-'}} </div>
                                                    </div>
                                                    <div class="col-sm-3">
                                                        <label class="control-label">Against Challan No <sup
                                                                class="text-danger"></sup></label>
                                                        <div class="label-t">{{objsale.Against_Challan_No ?
                                                            objsale.Against_Challan_No : '-'}} </div>
                                                    </div>
                                                    <div class="col-sm-3">
                                                        <label class="control-label">Tax Invoice No <sup
                                                                class="text-danger"></sup></label>
                                                        <div class="label-t">{{objsale.Tax_Invoice_No ?
                                                            objsale.Tax_Invoice_No : '-'}} </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </ng-container>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <p-footer>
        <button class="btn btn-primary pull-right" type="button" (click)="FinalUpdatePending()">
            <span class="glyphicon glyphicon-refresh"></span> Update
        </button>
        <button type="button" (click)="ShowModal = false" class="btn btn-info">
            Close
        </button>
    </p-footer>
</p-dialog>

<!-- View POP-->
<p-dialog [header]="'View'" [appendTo]="'body'" [visible]="ViewModal" [closeOnEscape]="true" [closable]="false"
    [modal]="true" [responsive]="true" [style]="{ width: '80%', minWidth: '200px' }" style="text-align: center;"
    [minY]="70" [maximizable]="false" [baseZIndex]="10000">
    <div class="row">
        <div class="col-xs-12">
            <div class="box box-primary">
                <div class="form-horizontal">
                    <div class="box-body">
                        <div class="form-group">
                            <div class="col-sm-4">
                                <label class="control-label">Sales Executive <sup class="text-danger"></sup></label>
                                <div class="label-t">{{ViewList.length ? ViewList[0].Member_Name : '-'}}</div>

                            </div>
                            <div class="col-sm-4">
                                <label class="control-label">Date Of Return <sup class="text-danger"></sup></label>
                                <div class="input-group date">
                                    <div class="input-group-addon">
                                        <i class="fa fa-calendar"></i>
                                    </div>
                                    <input CompacctNepaliDatepicker id="Docdatev" name="Docdatev" #Docdatev="ngModel"
                                        Class="form-control" [(ngModel)]="DocDate" disabled>
                                </div>
                            </div>
                            <div class="col-sm-4">
                                <label class="control-label">Customar Name <sup class="text-danger"></sup></label>
                                <div class="label-t">{{ViewList.length ? ViewList[0].Sub_Ledger_Name : '-'}}</div>
                            </div>
                        </div>
                        <div class="container-fluid" style="margin-top: 5px;padding-right: 0px; padding-left: 0px;">
                            <div class="panel panel-primary">
                                <div class="panel-heading"></div>
                                <div class="panel-body" style="overflow-y: auto; height: 500px;">
                                    <ng-container *ngFor=" let objsale of ViewList; let i = index">
                                        <div class="card"
                                            style="margin-top: 3px; border: 2px solid #007ad954; padding: 8px; box-shadow: 10px;box-shadow: 3px 2px lightblue;">
                                            <div class="card-body">
                                                <div class="form-group">
                                                    <div class="col-sm-4">
                                                        <label class="control-label">Product <sup
                                                                class="text-danger"></sup></label>
                                                        <div class="label-t">{{objsale.Product_Description ?
                                                            objsale.Product_Description : '-'}}</div>
                                                    </div>
                                                    <div class="col-sm-4">
                                                        <label class="control-label">Reason Of Return <sup
                                                                class="text-danger"></sup></label>
                                                        <div class="label-t">{{objsale.Reason_Of_Return ?
                                                            objsale.Reason_Of_Return : '-'}} </div>
                                                    </div>
                                                    <div class="col-sm-4">
                                                        <label class="control-label">Condition Of Goods <sup
                                                                class="text-danger"></sup></label>
                                                        <div class="label-t">{{objsale.Condition_Of_Goods ?
                                                            objsale.Condition_Of_Goods : '-'}} </div>
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <div class="col-sm-3">
                                                        <label class="control-label">Qty <sup
                                                                class="text-danger"></sup></label>
                                                        <div class="input-group">
                                                            <div class="label-t">{{objsale.Qty ? objsale.Qty : 0}}</div>
                                                            <span class="input-group-addon">{{objsale.UOM ? objsale.UOM:
                                                                "UOM"}}</span>
                                                        </div>
                                                    </div>
                                                    <div class="col-sm-3">
                                                        <label class="control-label">Rate <sup
                                                                class="text-danger"></sup></label>
                                                        <div class="label-t">{{objsale.Rate ? objsale.Rate : 0}}</div>
                                                    </div>
                                                    <div class="col-sm-3">
                                                        <label class="control-label">Tax Amount <sup
                                                                class="text-danger"></sup></label>
                                                        <div class="label-t">{{objsale.Tax_Amount ? objsale.Tax_Amount :
                                                            0}}</div>
                                                    </div>
                                                    <div class="col-sm-3">
                                                        <label class="control-label">Amount <sup
                                                                class="text-danger"></sup></label>
                                                        <div class="label-t">{{objsale.Amount ? objsale.Amount : 0}}
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <div class="col-sm-3">
                                                        <label class="control-label">Qty Approved <sup
                                                                class="text-danger"></sup></label>
                                                        <div class="input-group">
                                                            <div class="label-t">{{objsale.Approved_Qty ?
                                                                objsale.Approved_Qty : 0}}</div>
                                                            <span class="input-group-addon">{{objsale.UOM ?
                                                                objsale.UOM:"UOM"}}</span>
                                                        </div>
                                                    </div>
                                                    <div class="col-sm-3">
                                                        <label class="control-label">Rate Approved <sup
                                                                class="text-danger"></sup></label>
                                                        <div class="label-t">{{objsale.Approved_Rate ?
                                                            objsale.Approved_Rate : 0}}</div>
                                                    </div>
                                                    <div class="col-sm-3">
                                                        <label class="control-label">Tax Amount Approved <sup
                                                                class="text-danger"></sup></label>
                                                        <div class="label-t">{{objsale.Approved_Tax_Amount ?
                                                            objsale.Approved_Tax_Amount : 0}}</div>
                                                    </div>
                                                    <div class="col-sm-3">
                                                        <label class="control-label">Amount Approved <sup
                                                                class="text-danger"></sup></label>
                                                        <div class="label-t">{{objsale.Approved_Amount ?
                                                            objsale.Approved_Amount : 0}}</div>
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <div class="col-sm-3">
                                                        <label class="control-label">Received Qty<sup
                                                                class="text-danger"></sup></label>
                                                        <div class="input-group">
                                                            <div class="label-t">{{objsale.Received_Qty ?
                                                                objsale.Received_Qty : 0}}</div>
                                                            <span class="input-group-addon">{{objsale.UOM ?
                                                                objsale.UOM:"UOM"}}</span>
                                                        </div>
                                                    </div>
                                                    <div class="col-sm-3">
                                                        <label class="control-label">Account Amount<sup
                                                                class="text-danger"></sup></label>
                                                        <div class="pull-right">
                                                            <button (click)="SmallPopOpen(i,objsale)"
                                                                class="btn btn-primary  createPatient"><i
                                                                    class="fa fa-eye"></i>View</button>
                                                        </div>
                                                        <div class="label-t">{{objsale.Accounts_Amount ?
                                                                objsale.Accounts_Amount : 0}}</div>
                                                    </div>
                                                    <div class="col-sm-3">
                                                        <label class="control-label">Received Tax Amount<sup
                                                                class="text-danger"></sup></label>
                                                        <div class="label-t">{{objsale.Received_Tax_Amount ?
                                                            objsale.Received_Tax_Amount : 0}}</div>
                                                    </div>
                                                    <div class="col-sm-3">
                                                        <label class="control-label">Received Amount<sup
                                                                class="text-danger"></sup></label>
                                                        <div class="label-t">{{objsale.Received_Amount ?
                                                            objsale.Received_Amount : 0}}</div>
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <div class="col-sm-3">
                                                        <label class="control-label">Type of Return <sup
                                                                class="text-danger"></sup></label>
                                                        <div class="label-t">{{objsale.Type_Of_Return ?
                                                            objsale.Type_Of_Return : '-'}} </div>
                                                    </div>
                                                    <div class="col-sm-3">
                                                        <label class="control-label">Return <sup
                                                                class="text-danger"></sup></label>
                                                        <div class="label-t">{{objsale.Return_Text ? objsale.Return_Text
                                                            : '-'}} </div>
                                                    </div>
                                                    <div class="col-sm-3">
                                                        <label class="control-label">Against Challan No <sup
                                                                class="text-danger"></sup></label>
                                                        <div class="label-t">{{objsale.Against_Challan_No ?
                                                            objsale.Against_Challan_No : '-'}} </div>
                                                    </div>
                                                    <div class="col-sm-3">
                                                        <label class="control-label">Tax Invoice No <sup
                                                                class="text-danger"></sup></label>
                                                        <div class="label-t">{{objsale.Tax_Invoice_No ?
                                                            objsale.Tax_Invoice_No : '-'}} </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </ng-container>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <p-footer>
        <button type="button" (click)="ViewModal = false" class="btn btn-info">
            Close
        </button>
    </p-footer>
</p-dialog>

<!--Adjust Rate Pop-->
<p-dialog [header]="'Adjust Rate'" [appendTo]="'body'" [visible]="ChotoShowModal" [closeOnEscape]="true" [closable]="false"
    [modal]="true" [responsive]="true" [style]="{ width: '30%', minWidth: '200px' }" style="text-align: center;"
    [minY]="70" [maximizable]="false" [baseZIndex]="10000">
    <div class="row" *ngIf="!ViewModal">
        <div class="col-xs-12">
                        <div class="form-group">
                            <div class="col-sm-5">
                                <label class="control-label">QTY<sup class="text-danger"></sup></label>
                                <input class="form-control" placeholder="Type qty..."
                                name="Accounts_Qty"#Accounts_Qty="ngModel" CompacctDigitonly="true"
                                [(ngModel)]="ObjSmallPop.Accounts_Qty" (ngModelChange)="CheckQty()">

                            </div>
                            <div class="col-sm-5">
                                <label class="control-label">RATE<sup class="text-danger"></sup></label>
                                <input class="form-control" placeholder="Type Rate..."
                                name="Accounts_Rate" #Accounts_Rate="ngModel" CompacctDigitonly="true"
                                [(ngModel)]="ObjSmallPop.Accounts_Rate">

                            </div>
                            <div class="col-sm-2" *ngIf="!AddButtonEnb">
                                <label class="control-label">  <sup class="text-danger"></sup></label>
                                <button class="btn btn-success" type="button" (click)="AddPop()" style="margin-top: 4px;">Add</button>
                            </div>
                        </div>
        </div>
    </div>
    <br>
    <div class="table-responsive no-padding">
        <table class="table table-bordered">
            <thead>
                <tr style="background-color:#3c8dbc;color:white;">
                    <th>Sl No</th>
                    <th>Qty</th>
                    <th>Rate</th>
                    <th style="text-align: center;" *ngIf="!ViewModal">Delete</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let obj of AddList ;let ind = index;">
                    <td>{{ind +1}}</td>
                    <td>{{obj.Accounts_Qty}}</td>
                    <td>{{obj.Accounts_Rate}}</td>                   
                    <td *ngIf="!ViewModal"><button (click)="delete(ind)" class="btn btn-danger" style="text-align: center;"><i class="fa fa-trash"></i></button></td>
                </tr>
                <tr *ngIf="AddList.length">
                    <td nowrap colspan="1" style="text-align: right; font-weight: 700;"><span>Total QTY:</span></td>
                    <td colspan="1" style="text-align: left; font-weight: 700;">{{GetTotalPro()}}</td>
                </tr>
            </tbody>
        </table>
    </div>
    <p-footer>
        <button class="btn btn-primary pull-right" type="button" (click)="FinalUpdateSmall()" *ngIf="!ViewModal">
            <span class="glyphicon glyphicon-refresh"></span> Update
        </button>
        <button type="button" (click)="ChotoShowModalClose()" class="btn btn-info">
            Close
        </button>
    </p-footer>
</p-dialog>