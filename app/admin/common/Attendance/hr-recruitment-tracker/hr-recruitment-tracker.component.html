<p-toast key="compacct-toast" baseZIndex="99999"></p-toast>
<p-toast position="center" key="c" (onClose)="onReject()" [modal]="true" [autoZIndex]="true">
    <ng-template let-message pTemplate="message">
        <div style="text-align: center">
            <i class="pi pi-exclamation-triangle" style="font-size: 3em"></i>
            <h3>{{message.summary}}</h3>
            <p>{{message.detail}}</p>
        </div>
        <div class="ui-g ui-fluid">
            <div class="ui-g-6">
                <button type="button" pButton (click)="onConfirm()" label="Yes" class="ui-button-success"></button>
            </div>
            <div class="ui-g-6">
                <button type="button" pButton (click)="onReject()" label="No" class="ui-button-secondary"></button>
            </div>
        </div>
    </ng-template>
</p-toast>
<div class="row">
    <div class="col-xs-12">
        <div class="box box-primary">
            <div class="form-horizontal">
                <div class="box-body">
                    <p-tabView [activeIndex]="tabIndexToView" (onChange)="TabClick($event)">
                        <p-tabPanel headerStyleClass="compacct-tabs" [header]="Items[0]"
                            leftIcon="glyphicon glyphicon-list-alt">
                            <p-table [value]="tableData" [paginator]="true" [rows]="10" [rowHover]="true"
                                [autoLayout]="true" sortMode="multiple" [rowsPerPageOptions]="[10,20,50,100,200,300]"
                                [globalFilterFields]="tableSearchField" [rowHover]="true" #dt>
                                <ng-template pTemplate="caption">
                                    <div class="row">
                                        <div class="col-sm-3 pull-right" style="text-align: right">
                                            <input type="text" pInputText size="50" placeholder="Search"
                                              (input)="dt.filterGlobal($event.target.value, 'contains')"
                                              class="searchInput form-control">
                                        </div>
                                    </div>
                                </ng-template>
                                <ng-template pTemplate="header">
                                    <tr>
                                        <th style="width:5em">Action</th>
                                        <!-- <th style="text-align: center ;" nowrap>Created By</th>
                                        <th style="text-align: center ;" nowrap>Created On</th> -->
                                        <th style="text-align: center ;" nowrap>Requisition Manager</th>
                                        <th style="text-align: center ;" nowrap>Date of Requisition</th>
                                        <th style="text-align: center ;" nowrap>Position Title</th>
                                        <th style="text-align: center ;" nowrap>Position Type</th>
                                        <th style="text-align: center ;" nowrap>Source</th>
                                        <th style="text-align: center ;" nowrap>Position Details</th>
                                        <th style="text-align: center ;" nowrap>Department</th>
                                        <th style="text-align: center ;" nowrap>Clinic Type</th>
                                        <th style="text-align: center ;" nowrap>Cost Centre Detail</th>
                                        <th style="text-align: center ;" nowrap>Location</th>
                                        <th style="text-align: center ;" nowrap>Region</th>
                                        <th style="text-align: center ;" nowrap>State</th>
                                        <th style="text-align: center ;" nowrap>Recruitment Urgency</th>
                                        <th style="text-align: center ;" nowrap>Reporting Manager</th>
                                        <th style="text-align: center ;" nowrap>Needed For</th>
                                    </tr>
                                </ng-template>
                                <ng-template pTemplate="body" let-col>
                                    <tr>
                                        <td>
                                            <div class="dropdown">
                                                <button class="btn btn-default btn-sm tableButton dropdown-toggle"
                                                    type="button" data-toggle="dropdown" style="height:27px">
                                                    <i class="fa fa-fw fa-bars"></i>
                                                    <span class="caret"></span>
                                                </button>
                                                <ul class="dropdown-menu">
                                                    <li
                                                        *ngIf="col.Approved_Note_Business_Manager==null&&col.Approved_Note_Reporting_Manager==null&&col.Approved_Status_Business_Manager==null&&col.Approved_Status_Reporting_Manager==null">
                                                        <a (click)="Edit(col)">
                                                            <i class="fa fa-fw fa-edit"></i> Edit
                                                        </a>
                                                    </li>
                                                </ul>
                                            </div>
                                        </td>
                                        <td style="text-align: center ;" nowrap>{{col.Req_Manager_Name ?
                                            col.Req_Manager_Name : '-'}}
                                        </td>
                                        <td style="text-align: center ;" nowrap>{{col.Req_Date | date: "dd/MMM/yyyy"}}
                                        </td>
                                        <td style="text-align: center ;" nowrap>{{col.Position_Name ? col.Position_Name
                                            : '-'}}</td>
                                        <td style="text-align: center ;" nowrap>{{col.Position_Type ?
                                            col.Position_Type :
                                            '-'}}</td>
                                        <td style="text-align: center ;" nowrap>{{col.Source ? col.Source : '-'}}
                                        </td>
                                        <td style="text-align: center ;" nowrap>{{col.Position_Details ?
                                            col.Position_Details :
                                            '-'}}</td>
                                        <td style="text-align: center ;" nowrap>{{col.Dept_Name ? col.Dept_Name : '-'}}
                                        </td>
                                        <td style="text-align: center ;" nowrap>{{col.Clinic_Type ? col.Clinic_Type :
                                            '-'}}</td>
                                        <td style="text-align: center ;" nowrap>{{col.Cost_Cen_Name ? col.Cost_Cen_Name
                                            :
                                            '-'}}</td>
                                        <td style="text-align: center ;" nowrap>{{col.Location ?
                                            col.Location : '-'}}</td>
                                        <td style="text-align: center ;" nowrap>{{col.Region ? col.Region : '-'}}</td>
                                        <td style="text-align: center ;" nowrap>{{col.State_Name ? col.State_Name :
                                            '-'}}</td>
                                        <td style="text-align: center ;" nowrap>{{col.Recruitment_Urgency ?
                                            col.Recruitment_Urgency : '-'}}</td>
                                        <td style="text-align: center ;" nowrap>{{col.Report_Manager_Name ?
                                            col.Report_Manager_Name : '-'}}</td>
                                        <td style="text-align: center ;" nowrap>{{col.Needed_For ? col.Needed_For :
                                            '-'}}</td>
                                    </tr>
                                </ng-template>
                                <ng-template pTemplate="paginatorright" let-state>
                                    Showing {{state.first+1}} of {{(state.first) + state.rows}} of
                                    {{state.totalRecords}}
                                </ng-template>
                            </p-table>
                        </p-tabPanel>
                        <p-tabPanel headerStyleClass="compacct-tabs" [header]="Items[1]"
                            leftIcon="glyphicon glyphicon-floppy-save">
                            <form name="Requisition_Tracker" #Requisition_Tracker="ngForm">
                                <!-- First Panel -->
                                <div class="panel panel-primary">
                                    <div class="panel-heading">POSITION SPECIFICATION</div>
                                    <div class="panel-body">
                                        <div class="row">
                                            <div class="col-sm-4">
                                                <label class="control-label">Requisition Manager<sup
                                                        class="text-danger">*</sup></label>
                                                <p-dropdown [options]="Requisition_Manager_List"
                                                    name="RequisitionManager" #RequisitionManager="ngModel"
                                                    [(ngModel)]="objRequisitionTracker.Req_Manager" [showClear]="true"
                                                    [emptyFilterMessage]="'No Manager Found'" [filter]="true"
                                                    filterBy="label,value" [resetFilterOnHide]="true"
                                                    [placeholder]="'Select Requisition Manager'" [virtualScroll]="true"
                                                    itemSize="30"
                                                    [styleClass]="RequisitionFormSubmitted &&  RequisitionManager.errors?.required ? 'clearance' :''"
                                                    [required]="true">
                                                </p-dropdown>
                                            </div>
                                            <div class="col-sm-4">
                                                <label class="control-label">Date of Requisition<sup
                                                        class="text-danger">*</sup></label>
                                                <ejs-datepicker [format]=" 'dd/MMM/yyyy' " [(value)]="requisition_Date"
                                                    [(ngModel)]='requisition_Date' name="requisitionDate"
                                                    #requisitionDate="ngModel" required
                                                    [cssClass]="RequisitionFormSubmitted && requisitionDate.errors?.required ? 'clearance' :''">
                                                </ejs-datepicker>
                                            </div>
                                            <div class="col-sm-4">
                                                <label class="control-label">Position Title<sup
                                                        class="text-danger">*</sup></label>
                                                <p-dropdown [options]="PositionList" name="PositionLists"
                                                    #PositionLists="ngModel"
                                                    [(ngModel)]="objRequisitionTracker.Position_Title"
                                                    [showClear]="true" [emptyFilterMessage]="'No Position Found'"
                                                    [filter]="true" filterBy="label,value" [resetFilterOnHide]="true"
                                                    [placeholder]="'Select Position'" [virtualScroll]="true"
                                                    itemSize="30"
                                                    [styleClass]="RequisitionFormSubmitted && PositionLists.errors?.required ? 'clearance' :''"
                                                    [required]="true">
                                                </p-dropdown>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-sm-4">
                                                <label class="control-label">Position Type<sup
                                                        class="text-danger">*</sup></label>
                                                <select name="Position_Type" class="form-control"
                                                    #Position_Type="ngModel"
                                                    [(ngModel)]="objRequisitionTracker.Position_Type"
                                                    [ngClass]="{clearance: (RequisitionFormSubmitted && Position_Type?.errors?.required) }"
                                                    required>
                                                    <option [ngValue]="undefined">Select</option>
                                                    <option value="New">New</option>
                                                    <option value="Replacement">Replacement</option>
                                                    <option value="Reorganization">Reorganization</option>
                                                </select>
                                            </div>
                                            <div class="col-sm-4">
                                                <label class="control-label">Source<sup
                                                        class="text-danger">*</sup></label>
                                                <select name="source" class="form-control" #source="ngModel"
                                                    [(ngModel)]="objRequisitionTracker.Source"
                                                    [ngClass]="{clearance: (RequisitionFormSubmitted && source?.errors?.required) }"
                                                    required>
                                                    <option [ngValue]="undefined">Select</option>
                                                    <option value="Internal Candidates">Internal Candidates</option>
                                                    <option value="External Candidates">External Candidates</option>
                                                    <option value="Internal and External Candidates">Internal and
                                                        External
                                                        Candidates
                                                    </option>
                                                </select>
                                            </div>
                                            <div class="col-sm-4">
                                                <label class="control-label">Position Details<sup
                                                        class="text-danger">*</sup></label>
                                                <select name="Position_Details" class="form-control"
                                                    #Position_Details="ngModel"
                                                    [(ngModel)]="objRequisitionTracker.Position_Details"
                                                    [ngClass]="{clearance: (RequisitionFormSubmitted && Position_Details?.errors?.required) }"
                                                    required>
                                                    <option [ngValue]="undefined">Select</option>
                                                    <option value="Permanent">Permanent</option>
                                                    <option value="Temp">Temp</option>
                                                    <option value="Intern">Intern</option>
                                                    <option value="Consultant">Consultant</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-sm-4">
                                                <label class="control-label">Department<sup
                                                        class="text-danger">*</sup></label>
                                                <p-dropdown [options]="DepartmentList" name="DepartmentLists"
                                                    #DepartmentLists="ngModel"
                                                    [(ngModel)]="objRequisitionTracker.Dept_ID" [showClear]="true"
                                                    [emptyFilterMessage]="'No Department Found'" [filter]="true"
                                                    filterBy="label,value" [resetFilterOnHide]="true"
                                                    [placeholder]="'Select Department'" [virtualScroll]="true"
                                                    itemSize="30" (onChange)="departMentChange()"
                                                    [styleClass]="RequisitionFormSubmitted &&  DepartmentLists.errors?.required ? 'clearance' :''"
                                                    [required]="true">
                                                </p-dropdown>
                                            </div>
                                            <div class="col-sm-4">
                                                <label class="control-label">Clinic Type<sup
                                                        class="text-danger">*</sup></label>
                                                <select name="Clinic_Type" class="form-control" #Clinic_Type="ngModel"
                                                    [(ngModel)]="objRequisitionTracker.Clinic_Type"
                                                    (change)="clinicChange()"
                                                    [ngClass]="{clearance: (RequisitionFormSubmitted && Clinic_Type?.errors?.required) }"
                                                    required>
                                                    <option [ngValue]="undefined">Select</option>
                                                    <option value="New Clinic">New Clinic</option>
                                                    <option value="Existing Clinic">Existing Clinic</option>
                                                </select>
                                            </div>
                                            <div class="col-sm-4">
                                                <label class="control-label">Cost Centre Detail In case of
                                                    Existing</label>
                                                <p-dropdown [options]="CostCenterList" name="CostCenterLists"
                                                    #CostCenterLists="ngModel"
                                                    [(ngModel)]="objRequisitionTracker.Cost_Cen_ID" [showClear]="true"
                                                    [emptyFilterMessage]="'No Cost Center Found'" [filter]="true"
                                                    filterBy="label,value" [resetFilterOnHide]="true"
                                                    [placeholder]="'Select Cost Center'" [virtualScroll]="true"
                                                    itemSize="30"
                                                    [styleClass]="RequisitionFormSubmitted &&  CostCenterLists.errors?.required ? 'clearance' :''"
                                                    [required]="true">
                                                </p-dropdown>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-sm-4">
                                                <label class="control-label">Location<sup
                                                        class="text-danger">*</sup></label>
                                                <input type="text" class="form-control" placeholder="Location"
                                                    name="Location" #Location="ngModel"
                                                    [(ngModel)]="objRequisitionTracker.Location"
                                                    [ngClass]="{clearance: (RequisitionFormSubmitted && Location?.errors?.required) }"
                                                    required>
                                            </div>
                                            <div class="col-sm-4">
                                                <label class="control-label">Region<sup
                                                        class="text-danger">*</sup></label>
                                                <input type="text" class="form-control" placeholder="Region"
                                                    name="Region" #Region="ngModel"
                                                    [(ngModel)]="objRequisitionTracker.Region"
                                                    [ngClass]="{clearance: (RequisitionFormSubmitted && Region?.errors?.required) }"
                                                    required>
                                            </div>
                                            <div class="col-sm-4">
                                                <label class="control-label">State</label>
                                                <p-dropdown [options]="StateList" name="StateLists"
                                                    #StateLists="ngModel" [(ngModel)]="objRequisitionTracker.State"
                                                    [showClear]="true" [emptyFilterMessage]="'No State Found'"
                                                    [filter]="true" filterBy="label,value" [resetFilterOnHide]="true"
                                                    [placeholder]="'Select State'" [virtualScroll]="true" itemSize="30"
                                                    [styleClass]="RequisitionFormSubmitted &&  StateLists.errors?.required ? 'clearance' :''"
                                                    [required]="true">
                                                </p-dropdown>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-sm-4">
                                                <label class="control-label">Recruitment Urgency<sup
                                                        class="text-danger">*</sup></label>
                                                <select name="Recruitment_urgency" class="form-control"
                                                    #Recruitment_urgency="ngModel"
                                                    [(ngModel)]="objRequisitionTracker.Recruitment_Urgency"
                                                    [ngClass]="{clearance: (RequisitionFormSubmitted && Recruitment_urgency?.errors?.required) }"
                                                    required>
                                                    <option [ngValue]="undefined">Select</option>
                                                    <option value="Immediate hiring">Immediate hiring</option>
                                                    <option value="Normal">Normal</option>
                                                    <option value="Succession planning">Succession planning</option>
                                                    <option value="Talent acquisition competition">Talent acquisition
                                                        competition
                                                    </option>
                                                    <option value="Expansion or growth">Expansion or growth</option>
                                                    <option value="Emergency">Emergency</option>
                                                    <option value="replacement">replacement</option>
                                                    <option value="Mergers and acquisitions">Mergers and acquisitions
                                                    </option>
                                                </select>
                                            </div>
                                            <div class="col-sm-4">
                                                <label class="control-label">Reporting Manager of the Position<sup
                                                        class="text-danger">*</sup></label>
                                                <p-dropdown [options]="RepManPosList" name="RepManPosLists"
                                                    #RepManPosLists="ngModel"
                                                    [(ngModel)]="objRequisitionTracker.Report_manager"
                                                    [showClear]="true"
                                                    [emptyFilterMessage]="'No Reporting Manager Found'" [filter]="true"
                                                    filterBy="label,value" [resetFilterOnHide]="true"
                                                    [placeholder]="'Select Reporting Manager'" [virtualScroll]="true"
                                                    itemSize="30"
                                                    [styleClass]="RequisitionFormSubmitted &&  RepManPosLists.errors?.required ? 'clearance' :''"
                                                    [required]="true">
                                                </p-dropdown>
                                            </div>
                                            <div class="col-sm-4">
                                                <label class="control-label">Needed For<sup
                                                        class="text-danger">*</sup></label>
                                                <select name="Needed_For" class="form-control" #Needed_For="ngModel"
                                                    [(ngModel)]="objRequisitionTracker.Needed_For"
                                                    [ngClass]="{clearance: (RequisitionFormSubmitted && Needed_For?.errors?.required) }"
                                                    required>
                                                    <option [ngValue]="undefined">Select</option>
                                                    <option value="Clinic">Clinic</option>
                                                    <option value="HO">HO</option>
                                                    <option value="Field work">Field work</option>
                                                    <option value="Other">Other</option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!-- Second Panel -->
                                <div class="panel panel-primary">
                                    <div class="panel-heading">CLINIC INFORMATION</div>
                                    <div class="panel-body">
                                        <div class="row">
                                            <div class="col-sm-2">
                                                <label class="control-label">Setup<sup
                                                        class="text-danger">*</sup></label>
                                            </div>
                                            <div class="col-sm-2">
                                                <input type="radio" id="SIS" name="Setup" value="SIS"
                                                    [(ngModel)]="objRequisitionTracker.Setup_Type">
                                                <label for="SIS">SIS</label>
                                            </div>
                                            <div class="col-sm-2">
                                                <input type="radio" id="Hospital" name="Setup" value="Hospital"
                                                    [(ngModel)]="objRequisitionTracker.Setup_Type">
                                                <label for="Hospital">Hospital</label>
                                            </div>
                                            <div class="col-sm-2">
                                                <input type="radio" id="Corporate" name="Setup" value="Corporate"
                                                    [(ngModel)]="objRequisitionTracker.Setup_Type">
                                                <label for="Corporate">Corporate</label>
                                            </div>
                                            <div class="col-sm-2">
                                                <input type="radio" id="Visiting" name="Setup" value="Visiting"
                                                    [(ngModel)]="objRequisitionTracker.Setup_Type">
                                                <label for="Visiting">Visiting</label>
                                            </div>
                                            <div class="col-sm-2">
                                                <input type="radio" id="RoamingProfile" name="Setup"
                                                    value="Roaming Profile"
                                                    [(ngModel)]="objRequisitionTracker.Setup_Type">
                                                <label for="RoamingProfile">Roaming Profile</label>
                                            </div>
                                        </div>
                                        <hr>
                                        <div class="row" *ngIf="this.objRequisitionTracker.Clinic_Type=='New Clinic'">
                                            <div class="col-sm-4">
                                                <label class="control-label">Clinic Opening Date<sup
                                                        class="text-danger">*</sup></label>
                                                <ejs-datepicker [format]=" 'dd/MMM/yyyy' "
                                                    [(value)]="clinic_Opening_Date" [(ngModel)]='clinic_Opening_Date'
                                                    name="clinicOpeningDate" #clinicOpeningDate="ngModel"
                                                    [required]="this.objRequisitionTracker.Clinic_Type=='New Clinic'"
                                                    [cssClass]="RequisitionFormSubmitted && clinicOpeningDate.errors?.required ? 'clearance' :''">
                                                </ejs-datepicker>
                                            </div>
                                            <div class="col-sm-4">
                                                <label class="control-label">Clinic Opening Timings<sup
                                                        class="text-danger">*</sup></label>
                                                <ejs-timepicker placeholder='Select Opening time'
                                                    [(value)]="Clinic_Opening_Timings" name="ClinicOpeningTimings"
                                                    [format]="'hh:mm a'" [(ngModel)]='Clinic_Opening_Timings'
                                                    #ClinicOpeningTimings="ngModel"
                                                    [required]="this.objRequisitionTracker.Clinic_Type=='New Clinic'"
                                                    [cssClass]="RequisitionFormSubmitted && ClinicOpeningTimings.errors?.required ? 'clearance' :''">
                                                </ejs-timepicker>
                                            </div>
                                            <div class="col-sm-4">
                                                <label class="control-label">Clinic Closing Timings<sup
                                                        class="text-danger">*</sup></label>
                                                <ejs-timepicker placeholder='Select Closing time'
                                                    [(value)]="Clinic_Closing_Timings" name="ClinicClosingTimings"
                                                    [format]="'hh:mm a'" [(ngModel)]='Clinic_Closing_Timings'
                                                    #ClinicClosingTimings="ngModel"
                                                    [required]="this.objRequisitionTracker.Clinic_Type=='New Clinic'"
                                                    [cssClass]="RequisitionFormSubmitted && ClinicClosingTimings.errors?.required ? 'clearance' :''">
                                                </ejs-timepicker>
                                            </div>
                                        </div>
                                        <div class="row" *ngIf="this.objRequisitionTracker.Clinic_Type=='New Clinic'">
                                            <div class="col-sm-4">
                                                <label class="control-label">Week Off<sup
                                                        class="text-danger">*</sup></label>
                                                <select name="week_off" class="form-control" #week_off="ngModel"
                                                    [(ngModel)]="objRequisitionTracker.Weekly_Off_Day"
                                                    [ngClass]="{clearance: (RequisitionFormSubmitted && week_off?.errors?.required) }"
                                                    [required]="this.objRequisitionTracker.Clinic_Type=='New Clinic'">
                                                    <option [ngValue]="undefined">Select</option>
                                                    <option value="Sunday">Sunday</option>
                                                    <option value="Monday">Monday</option>
                                                    <option value="Tuesday">Tuesday</option>
                                                    <option value="Thursday">Thursday</option>
                                                    <option value="Friday">Friday</option>
                                                    <option value="Saturday">Saturday</option>
                                                </select>
                                            </div>
                                            <div class="col-sm-4"></div>
                                            <div class="col-sm-4"></div>
                                        </div>
                                    </div>
                                </div>
                                <!-- Third Panel -->
                                <div class="panel panel-primary">
                                    <div class="panel-heading">JOB SPECIFICATION [TO BE FILLED BY REQUISITIONING
                                        MANAGER]</div>
                                    <div class="panel-body">
                                        <div class="row">
                                            <div class="col-sm-4">
                                                <label class="control-label">Educational & Professional
                                                    Qualifications<sup class="text-danger">*</sup></label>
                                                <input type="text" class="form-control"
                                                    placeholder="Educational & Professional Qualifications"
                                                    name="Qualifications" #Qualifications="ngModel"
                                                    [(ngModel)]="objRequisitionTracker.Highest_Qualification"
                                                    [ngClass]="{clearance: (RequisitionFormSubmitted && Qualifications?.errors?.required) }">
                                            </div>
                                            <div class="col-sm-4">
                                                <label class="control-label">Years of Experience<sup
                                                        class="text-danger">*</sup></label>
                                                <input type="text" class="form-control"
                                                    placeholder="Years of Experience" name="Experience"
                                                    #Experience="ngModel"
                                                    [(ngModel)]="objRequisitionTracker.Year_Of_Experience"
                                                    pattern="^[0-9]{1,}(|.[0-9]{1})$"
                                                    [ngClass]="{clearance: (RequisitionFormSubmitted && Experience?.errors?.required) || Experience?.errors?.pattern}"
                                                    CompacctDigitonly="true">
                                            </div>
                                            <div class="col-sm-4">
                                                <label class="control-label">Industry/Company Benchmark for Sourcing<sup
                                                        class="text-danger">*</sup></label>
                                                <input type="text" class="form-control"
                                                    placeholder="Industry/Company Benchmark for Sourcing"
                                                    name="Sourcing" #Sourcing="ngModel"
                                                    [(ngModel)]="objRequisitionTracker.Sourcing_Benchmark"
                                                    [ngClass]="{clearance: (RequisitionFormSubmitted && Sourcing?.errors?.required) }">
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-sm-6">
                                                <label class="control-label">Preferred Companies to hire from (At least
                                                    3 names)<sup class="text-danger">*</sup></label>
                                                <input type="text" class="form-control"
                                                    placeholder="Preferred Companies to hire from (At least 3 names)"
                                                    name="Preferred_Companies" #Preferred_Companies="ngModel"
                                                    [(ngModel)]="objRequisitionTracker.Hire_From_Companies"
                                                    [ngClass]="{clearance: (RequisitionFormSubmitted && Preferred_Companies?.errors?.required) }">
                                            </div>
                                            <div class="col-sm-4">
                                                <label class="control-label">Additional Specifications<sup
                                                        class="text-danger">*</sup></label>
                                                <input type="text" class="form-control"
                                                    placeholder="Additional Specifications" name="Specifications"
                                                    #Specifications="ngModel"
                                                    [(ngModel)]="objRequisitionTracker.Additional_Spec"
                                                    [ngClass]="{clearance: (RequisitionFormSubmitted && Specifications?.errors?.required) }">
                                            </div>
                                            <div class="col-sm-4"></div>
                                        </div>
                                    </div>
                                </div>
                                <!-- Fourth Panel -->
                                <div class="panel panel-primary">
                                    <div class="panel-heading">BELOW SECTION TO BE FILLED BY TA / HR Manager</div>
                                    <div class="panel-body">
                                        <div class="row">
                                            <div class="col-sm-4">
                                                <label class="control-label">CTC as per Budget<sup
                                                        class="text-danger">*</sup></label>
                                                <input type="text" class="form-control" placeholder="CTC as per Budget"
                                                    name="Budget" #Budget="ngModel"
                                                    [(ngModel)]="objRequisitionTracker.CTC_As_Per_Budget"
                                                    [ngClass]="{clearance: (RequisitionFormSubmitted && Budget?.errors?.required) }"
                                                    CompacctDigitonly="true">
                                            </div>
                                            <div class="col-sm-4">
                                                <label class="control-label">Proposed fixed CTC Band<sup
                                                        class="text-danger">*</sup></label>
                                                <input type="text" class="form-control"
                                                    placeholder="Proposed fixed CTC Band" name="CTCBand"
                                                    #CTCBand="ngModel"
                                                    [(ngModel)]="objRequisitionTracker.Proposed_CTC_Bond"
                                                    [ngClass]="{clearance: (RequisitionFormSubmitted && CTCBand?.errors?.required) }"
                                                    CompacctDigitonly="true">
                                            </div>
                                            <div class="col-sm-4">
                                                <label class="control-label">Max CTC Variation (Justification)<sup
                                                        class="text-danger">*</sup></label>
                                                <input type="text" class="form-control"
                                                    placeholder="Max CTC Variation (Justification)" name="Justification"
                                                    #Justification="ngModel"
                                                    [(ngModel)]="objRequisitionTracker.Max_CTC_Varience"
                                                    [ngClass]="{clearance: (RequisitionFormSubmitted && Justification?.errors?.required) }">
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-sm-4">
                                                <label class="control-label">Grade as per Budget<sup
                                                        class="text-danger">*</sup></label>
                                                <input type="text" class="form-control"
                                                    placeholder="Grade as per Budget" name="GradeBudget"
                                                    #GradeBudget="ngModel"
                                                    [(ngModel)]="objRequisitionTracker.Grade_As_Per_Budget"
                                                    [ngClass]="{clearance: (RequisitionFormSubmitted && GradeBudget?.errors?.required) }">
                                            </div>
                                            <div class="col-sm-4">
                                                <label class="control-label">Proposed Grade Range & Designation<sup
                                                        class="text-danger">*</sup></label>
                                                <input type="text" class="form-control"
                                                    placeholder="Proposed Grade Range & Designation" name="Designation"
                                                    #Designation="ngModel"
                                                    [(ngModel)]="objRequisitionTracker.Proposed_Grade_Range_Designation"
                                                    [ngClass]="{clearance: (RequisitionFormSubmitted && Designation?.errors?.required) }">
                                            </div>
                                            <div class="col-sm-4">
                                                <label class="control-label">The request is<sup
                                                        class="text-danger">*</sup></label>
                                                <input type="text" class="form-control" placeholder="The request is"
                                                    name="Therequestis" #Therequestis="ngModel"
                                                    [(ngModel)]="objRequisitionTracker.The_Request_is"
                                                    [ngClass]="{clearance: (RequisitionFormSubmitted && Therequestis?.errors?.required) }">
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-sm-4">
                                                <label class="control-label">Remarks<sup
                                                        class="text-danger">*</sup></label>
                                                <input type="text" class="form-control" placeholder="Remarks"
                                                    name="Remarks" #Remarks="ngModel"
                                                    [(ngModel)]="objRequisitionTracker.Remarks"
                                                    [ngClass]="{clearance: (RequisitionFormSubmitted && Remarks?.errors?.required) }">
                                            </div>
                                            <div class="col-sm-4">
                                                <label class="control-label">New Hiring Start Date<sup
                                                        class="text-danger">*</sup></label>
                                                <ejs-datepicker [format]=" 'dd/MMM/yyyy' " [(value)]="new_Hiring_Date"
                                                    [(ngModel)]='new_Hiring_Date' name="NewHiringStartDate"
                                                    #NewHiringStartDate="ngModel"
                                                    [cssClass]="RequisitionFormSubmitted && NewHiringStartDate.errors?.required ? 'clearance' :''">
                                                </ejs-datepicker>
                                            </div>
                                            <div class="col-sm-4">
                                                <label class="control-label">Vacancy Status<sup
                                                        class="text-danger">*</sup></label>
                                                <select name="VacancyStatus" class="form-control"
                                                    #VacancyStatus="ngModel"
                                                    [(ngModel)]="objRequisitionTracker.Vacancy_Status"
                                                    (change)="changeVacancyStatus()"
                                                    [ngClass]="{clearance: (RequisitionFormSubmitted && VacancyStatus?.errors?.required) }">
                                                    <option [ngValue]="undefined">Select</option>
                                                    <option value="Vacant">Vacant</option>
                                                    <option value="Filled">Filled</option>
                                                    <option value="Suspended">Suspended</option>
                                                    <option value="Canceled">Canceled
                                                    </option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="row"
                                            *ngIf="objRequisitionTracker.Vacancy_Status=='Filled' || objRequisitionTracker.Vacancy_Status=='Vacant'">
                                            <div class="col-sm-4">
                                                <label class="control-label">Selection Phase<sup
                                                        class="text-danger">*</sup></label>
                                                <select name="SelectionPhase" class="form-control"
                                                    #SelectionPhase="ngModel"
                                                    [(ngModel)]="objRequisitionTracker.Selection_Phase"
                                                    [ngClass]="{clearance: (RequisitionFormSubmitted && SelectionPhase?.errors?.required) }">
                                                    <option [ngValue]="undefined">Select</option>
                                                    <option value="Send to Manager">Send to Manager</option>
                                                    <option value="Job Offer">Job Offer</option>
                                                    <option *ngIf="objRequisitionTracker.Vacancy_Status=='Filled'"
                                                        value="Hired">Hired</option>
                                                </select>
                                            </div>
                                            <div class="col-sm-4">
                                                <label class="control-label">Decision<sup
                                                        class="text-danger">*</sup></label>
                                                <select name="Decision" class="form-control" #Decision="ngModel"
                                                    [(ngModel)]="objRequisitionTracker.Decision"
                                                    [ngClass]="{clearance: (RequisitionFormSubmitted && Decision?.errors?.required) }">
                                                    <option [ngValue]="undefined">Select</option>
                                                    <option value="Candidate Refusal">Candidate Refusal</option>
                                                    <option value="Not Hired">Not Hired</option>
                                                    <option *ngIf="objRequisitionTracker.Selection_Phase=='Hired'"
                                                        value="Hired">Hired</option>
                                                </select>
                                            </div>
                                            <div class="col-sm-4">
                                                <label class="control-label">In Case of Vacant Urgency<sup
                                                        class="text-danger">*</sup></label>
                                                <select name="VacantUrgency" class="form-control"
                                                    #VacantUrgency="ngModel"
                                                    [(ngModel)]="objRequisitionTracker.Vacant_Urgency"
                                                    [ngClass]="{clearance: (RequisitionFormSubmitted && VacantUrgency?.errors?.required) }">
                                                    <option [ngValue]="undefined">Select</option>
                                                    <option value="Warm">Warm</option>
                                                    <option value="Hot">Hot</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="row"
                                            *ngIf="objRequisitionTracker.Vacancy_Status=='Filled' || objRequisitionTracker.Vacancy_Status=='Vacant'">
                                            <div class="col-sm-4">
                                                <label class="control-label">Alternative Plan<sup
                                                        class="text-danger">*</sup></label>
                                                <input type="text" class="form-control" placeholder="Alternative Plan"
                                                    name="AlternativePlan" #AlternativePlan="ngModel"
                                                    [(ngModel)]="objRequisitionTracker.Alternative_Plan"
                                                    [ngClass]="{clearance: (RequisitionFormSubmitted && AlternativePlan?.errors?.required) }">
                                            </div>
                                            <div class="col-sm-4">
                                                <label class="control-label">Ramarks<sup
                                                        class="text-danger">*</sup></label>
                                                <input type="text" class="form-control" placeholder="Ramarks"
                                                    name="Ramarks" #Ramarks="ngModel"
                                                    [(ngModel)]="objRequisitionTracker.Overall_Remarks"
                                                    [ngClass]="{clearance: (RequisitionFormSubmitted && Ramarks?.errors?.required) }">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <button class="btn btn-primary pull-right"
                                        (click)="SaveForm(Requisition_Tracker.form.valid)" [disabled]="Spinner"
                                        id="load" style="margin-right: 15px;">
                                        <p-progressSpinner *ngIf="Spinner" [style]="{width: '15px', height: '15px'}"
                                            strokeWidth="8" animationDuration=".5s"></p-progressSpinner>
                                        <span *ngIf="!Spinner" class="glyphicon glyphicon-save"></span>{{buttonname}}
                                    </button>
                                </div>
                            </form>
                        </p-tabPanel>
                    </p-tabView>
                </div>
            </div>
        </div>
    </div>
</div>